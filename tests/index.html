<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CleanPlate - Test Suite</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #1f2937;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 2rem;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 2rem;
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }
        
        .card h2 {
            font-size: 1.5rem;
            color: #667eea;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .card p {
            color: #6b7280;
            margin-bottom: 1rem;
            line-height: 1.7;
        }
        
        .card-footer {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 1.2rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5568d3;
        }
        
        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
        }
        
        .btn-secondary:hover {
            background: #e5e7eb;
        }
        
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .badge-test {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .badge-diagnostic {
            background: #dcfce7;
            color: #166534;
        }
        
        .icon {
            width: 24px;
            height: 24px;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 1.5rem;
            transition: opacity 0.2s;
        }
        
        .back-link:hover {
            opacity: 0.8;
        }
        
        .info-box {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 1rem 1.5rem;
            border-radius: 6px;
            margin-bottom: 2rem;
        }
        
        .info-box h3 {
            color: #1e40af;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        .info-box p {
            color: #1e3a8a;
            margin: 0;
            font-size: 0.9rem;
        }
        
        code {
            background: #f3f4f6;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: #dc2626;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../public/index.html" class="back-link">
            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
            Back to CleanPlate
        </a>
        
        <div class="header">
            <h1>ðŸ§ª Test Suite</h1>
            <p>Development and diagnostic tools for CleanPlate</p>
        </div>
        
        <div class="info-box">
            <h3>ðŸ’¡ Running Tests</h3>
            <p><strong>Web Mode:</strong> Click "Run in Browser" buttons below to execute tests in your browser with formatted output. <strong>CLI Mode:</strong> Use <code>php tests/test-name.php</code> from the project root. Some tests support <code>--debug</code> flag for verbose output or <code>?debug=1</code> in URLs.</p>
        </div>
        
        <!-- System Check -->
        <div class="card">
            <h2>
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                System Check
                <span class="badge badge-diagnostic">Diagnostic</span>
            </h2>
            <p>
                Comprehensive diagnostic tool that validates your PHP environment. Checks PHP version, required extensions 
                (cURL, DOM, JSON, mbstring, session), file permissions, and verifies RecipeParser class can be loaded. 
                <strong>Run this first</strong> if you encounter issues.
            </p>
            <div class="card-footer">
                <a href="system-check.php" class="btn btn-primary">
                    <svg class="icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Run in Browser
                </a>
                <span style="color: #6b7280; font-size: 0.9rem;">File: <code>system-check.php</code></span>
            </div>
        </div>
        
        <!-- Configuration Test -->
        <div class="card">
            <h2>
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                </svg>
                Configuration System Test
                <span class="badge badge-test">CLI Test</span>
            </h2>
            <p>
                Comprehensive test suite for the configuration system. Validates configuration loading from .env file, 
                dot notation access (e.g., <code>app.name</code>, <code>database.connections.mysql.host</code>), 
                environment variable overrides, type coercion, default values, and ConfigValidator functionality. 
                Tests all config files: app, scraper, security, database, services, cache, and mail.
            </p>
            <div class="card-footer">
                <a href="test-config.php" class="btn btn-primary">
                    <svg class="icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Run in Browser
                </a>
                <span style="color: #6b7280; font-size: 0.9rem;">
                    CLI: <code>php tests/test-config.php</code>
                </span>
            </div>
        </div>
        
        <!-- Simple Configuration Test -->
        <div class="card">
            <h2>
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
                Simple Config Test
                <span class="badge badge-diagnostic">Quick Check</span>
            </h2>
            <p>
                Minimal diagnostic test for quick configuration troubleshooting. Performs basic sanity check: loads Config class, 
                calls <code>Config::load()</code>, reads <code>app.name</code> value, and reports success/failure. 
                <strong>Use this</strong> for rapid validation when debugging configuration issues.
            </p>
            <div class="card-footer">
                <a href="test-config-simple.php" class="btn btn-primary">
                    <svg class="icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Run in Browser
                </a>
                <span style="color: #6b7280; font-size: 0.9rem;">
                    CLI: <code>php tests/test-config-simple.php</code>
                </span>
            </div>
        </div>
        
        <!-- Recipe Scraper Test -->
        <div class="card">
            <h2>
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
                </svg>
                Recipe Scraper Test
                <span class="badge badge-test">CLI Test</span>
            </h2>
            <p>
                Test harness for recipe extraction. Runs extraction against multiple popular recipe sites (AllRecipes, 
                Food Network, Bon AppÃ©tit, NYT Cooking) and displays formatted results with confidence scores, phase detection, 
                and extraction quality. Includes colored ANSI output with box-drawing characters for professional formatting.
            </p>
            <div class="card-footer">
                <a href="test-scraper.php" class="btn btn-primary">
                    <svg class="icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Run in Browser
                </a>
                <span style="color: #6b7280; font-size: 0.9rem;">
                    CLI: <code>php tests/test-scraper.php</code>
                </span>
            </div>
        </div>
        
        <!-- Image Candidates Test -->
        <div class="card">
            <h2>
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                Image Candidates Test
                <span class="badge badge-test">CLI Test</span>
            </h2>
            <p>
                Test suite for image candidate extraction (Phase 1 feature). Tests multiple image discovery from recipe pages, 
                scoring algorithm, source tracking (structured-data vs DOM), alt text extraction, and primary image selection. 
                Validates that the parser finds multiple high-quality images per recipe for carousel/gallery display.
            </p>
            <div class="card-footer">
                <a href="test-image-candidates.php" class="btn btn-primary">
                    <svg class="icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Run in Browser
                </a>
                <span style="color: #6b7280; font-size: 0.9rem;">
                    CLI: <code>php tests/test-image-candidates.php</code>
                </span>
            </div>
        </div>
        
        <!-- Local Example Test -->
        <div class="card">
            <h2>
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                </svg>
                Local Example File Test
                <span class="badge badge-test">CLI Test</span>
            </h2>
            <p>
                Tests recipe parser against a saved local HTML file (Grilled Cheese Sandwich example). Validates parser behavior 
                with offline content, tests both Phase 1 (JSON-LD) and Phase 2 (DOM scraping) extraction independently using 
                reflection, and verifies ingredient/instruction quality. Useful for development without external network requests.
            </p>
            <div class="card-footer">
                <a href="test-local-example.php" class="btn btn-primary">
                    <svg class="icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Run in Browser
                </a>
                <span style="color: #6b7280; font-size: 0.9rem;">
                    CLI: <code>php tests/test-local-example.php</code>
                </span>
            </div>
        </div>
        
        <!-- Confidence Scoring Test -->
        <div class="card">
            <h2>
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                </svg>
                Confidence Scoring Test
                <span class="badge badge-test">CLI Test</span>
            </h2>
            <p>
                Comprehensive unit tests for the confidence scoring algorithm (0-100 scale). Tests real URLs, mock data scenarios, 
                edge cases, and quality bonuses. Validates Phase 1 vs Phase 2 scoring, metadata completeness, ingredient/instruction 
                quality detection, and score thresholds (high â‰¥80, medium 50-79, low &lt;50).
            </p>
            <div class="card-footer">
                <a href="test-confidence-scoring.php" class="btn btn-primary">
                    <svg class="icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Run in Browser
                </a>
                <span style="color: #6b7280; font-size: 0.9rem;">
                    CLI: <code>php tests/test-confidence-scoring.php</code>
                </span>
            </div>
        </div>
        
        <!-- Ingredient Filter Test -->
        <div class="card">
            <h2>
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"/>
                </svg>
                Ingredient Filter Test
                <span class="badge badge-test">CLI Test</span>
            </h2>
            <p>
                Test suite for the post-processing filter that removes navigation items, section headers, and junk from extracted 
                recipe data. Tests navigation detection ("Home", "Share"), header patterns ("Ingredients:", "Directions:"), 
                empty/junk content, all caps headers, valid ingredients preservation, mixed lists, instruction filtering, 
                edge cases, strictness levels (LENIENT/BALANCED/STRICT), quality ratio calculation, and filtered item tracking.
            </p>
            <div class="card-footer">
                <a href="test-ingredient-filter.php" class="btn btn-primary">
                    <svg class="icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Run in Browser
                </a>
                <span style="color: #6b7280; font-size: 0.9rem;">
                    CLI: <code>php tests/test-ingredient-filter.php</code>
                </span>
            </div>
        </div>
        
        <!-- Security Validation Test -->
        <div class="card">
            <h2>
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                </svg>
                Security Validation Test
                <span class="badge badge-diagnostic">Security</span>
            </h2>
            <p>
                Automated security validation test suite. Verifies security fixes applied to CleanPlate including SSRF protection 
                (localhost, private IPs, link-local addresses blocking), security headers presence, input validation, URL scheme 
                restrictions, and length limits. Ensures the application properly rejects malicious requests.
            </p>
            <div class="card-footer">
                <a href="test-security.php" class="btn btn-primary">
                    <svg class="icon" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Run in Browser
                </a>
                <span style="color: #6b7280; font-size: 0.9rem;">
                    CLI: <code>php tests/test-security.php</code>
                </span>
            </div>
        </div>
        
        <!-- Footer -->
        <div style="text-align: center; color: white; margin-top: 3rem; opacity: 0.8;">
            <p>CleanPlate Test Suite â€¢ <a href="https://github.com/AdamMoses-GitHub/CleanPlate" style="color: white;">GitHub</a></p>
        </div>
    </div>
</body>
</html>
