CUSTOM_JS_GUIDS_ARR=["5ccd169c-4319-4dc8-9620-b840455a7f97","5bd383a6-f708-4bd8-8225-cdafa0fc1617","3b1dbbc9-ab84-420a-9506-d309a6df49f7","a4c1144d-86d8-49a5-83e2-e972e771db6b","ea2cbe25-2a4c-4d5d-873d-86400299bd49","a5f63618-a67f-46b8-9c10-a90cd509e300","49fbe77d-102b-4015-b878-80192040c9bf","9c2aab89-a5bc-4158-acd7-02ad2683a8b0","0552ffdc-107d-4e98-bd77-08f7bcda56f2","ec62cf18-4e12-4f20-a009-83c457514a05","f88fe873-4d53-4cbd-ad21-254df6aa6cad","56613393-60b6-412e-ab6a-eb564cbf78a9","38e11e9f-c6bc-4026-bfc4-13d696297279","c8a64a02-6d94-4781-997a-1b9b18cae1db","fd7c4b62-3ccd-4671-b509-1ec400b180e4","db0dc153-296c-4d9e-a7e9-65718e101ea6","416ae5c2-3d73-4aa6-9d39-dc57e150e42c","d1cab8cf-d4ee-45c3-b84d-14c4f073426e"],CUSTOM_JS_BOX_EMBED={},CUSTOM_JS_BOX_EMBED["5ccd169c-4319-4dc8-9620-b840455a7f97"]={},CUSTOM_JS_BOX_EMBED["5ccd169c-4319-4dc8-9620-b840455a7f97"].trigger="After DOM Ready",CUSTOM_JS_BOX_EMBED["5ccd169c-4319-4dc8-9620-b840455a7f97"].include_filter="",CUSTOM_JS_BOX_EMBED["5ccd169c-4319-4dc8-9620-b840455a7f97"].exclude_filter="",CUSTOM_JS_BOX_EMBED["5ccd169c-4319-4dc8-9620-b840455a7f97"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["5ccd169c-4319-4dc8-9620-b840455a7f97"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{const s="Multiselect App",l="select_all",c="select_none",d="select_option",p="select_only",u="select_btn_range",g="select_error",b="select_btn_count",f="select_autoselect";if(boxapi.multiSelectADR)return;boxapi.multiSelectADR=!0;const _=e.initAppNotifications(s),m=boxapi.findAllMetadata();function a(e){throw _.errorNotifyApp(e),new Error(e)}function i(t){if("select"==t.settings.action&&""!==t.settings.selected_field||"nothing"==t.settings.action&&""!==t.settings.selected_field){let o="custom_"+t.settings.selected_field,a=t.pageName+"_custom_"+t.settings.selected_field,i=t.settings.selected_value;e.setDataLayerValue(a,i,boxapi.getId()),e.setDataLayerValue(a,i,boxapi.getId().toString()),e.setDataLayerValue(a,i),e.setDataLayerValue(o,i,boxapi.getId()),e.setDataLayerValue(o,i,boxapi.getId().toString()),e.setDataLayerValue(o,i),e.setDataLayerValue(o,i),SELECTED_BUTTON_FORM_VALUES.hasOwnProperty(a)?SELECTED_BUTTON_FORM_VALUES[a].includes(i)||SELECTED_BUTTON_FORM_VALUES[a].push(i):SELECTED_BUTTON_FORM_VALUES[a]=[i]}}function n(e){let t=e.selector.replace("#",""),o=$(e.selector),a=t+"_selected";o.hasClass(a)||o.addClass(a),o.hasClass("button_selected")||o.addClass("button_selected")}function r(t){let o="custom_"+t.settings.selected_field,a=t.pageName+"_custom_"+t.settings.selected_field,i=(t.settings.selected_value,t.mdKey,boxapi.getPageName()+"_custom_"+t.settings.selected_field);SELECTED_BUTTON_FORM_VALUES[a]&&delete SELECTED_BUTTON_FORM_VALUES[a],SELECTED_BUTTON_FORM_VALUES[o]&&delete SELECTED_BUTTON_FORM_VALUES[o],SELECTED_BUTTON_FORM_VALUES[i]&&delete SELECTED_BUTTON_FORM_VALUES[i],e.removeDataLayerValue(a,boxapi.getId()),e.removeDataLayerValue(a,boxapi.getId().toString()),e.removeDataLayerValue(a),e.removeDataLayerValue(o,boxapi.getId()),e.removeDataLayerValue(o,boxapi.getId().toString()),e.removeDataLayerValue(o);let n=t.selector.replace("#","");$(t.selector).removeClass(n+"_selected"),$(t.selector).removeClass("button_selected")}boxapi.addSelectX=function(t,o,s){let g=t.settings.action,b="";o===f&&"select"!==g&&(b="Invalid "+f+" on "+t.pageName+t.selector+": button must have action select"),o===u&&"select"!==g&&(b="Invalid "+u+" on "+t.pageName+t.selector+": button must have action select"),o===p&&"select"!==g&&(b="Invalid "+p+" on "+t.pageName+t.selector+": button must have action select"),o!==l&&o!==c&&o!==d&&o!==p&&o!==u&&o!==f&&(b="Invalid select mode "+o),o==d&&"select"!==g&&(b="Invalid "+d+" on "+t.pageName+t.selector+": app supports only groups of buttons having Select Button Action"),b&&a(b),s=s?s.toString().toLowerCase().trim():"default_group";let _=boxapi.getId();boxapi._multiSelects=boxapi._multiSelects||{},boxapi._multiSelects[_]=boxapi._multiSelects[_]||{},boxapi._multiSelects[_][t.pageName]=boxapi._multiSelects[_][t.pageName]||{},boxapi._multiSelects[_][t.pageName][s]=boxapi._multiSelects[_][t.pageName][s]||{},boxapi._multiSelects[_][t.pageName][s][o]=boxapi._multiSelects[_][t.pageName][s][o]||[],boxapi._multiSelects[_][t.pageName][s][o].push(t),boxapi._multiSelects[_][t.pageName][s][d]=boxapi._multiSelects[_][t.pageName][s][d]||[];const m=boxapi._multiSelects[_][t.pageName][s];let x="";m[l]&&m[l].length>1&&(x="only one "+l+" may be set per group"),m[c]&&m[c].length>1&&(x="only one "+c+" may be set per group"),x&&a(x),o===l?function(e,t){let o=$(e.selector),a=e;$(document).on("BOX_BUTTON_CLICK",(function(e,s,p,u){let g="#"+p;if(g===a.selector)return"select"==a.settings.action?"true"===$(o).attr("select_options")?$(a.selector).hasClass("button_selected")?(t[d].forEach(r),i(a),t[d].forEach(i)):(i(a),t[d].forEach(n),t[d].forEach(i)):(i(a),t[d].forEach(i)):(i(a),t[d].forEach(i),t[d].forEach(n)),void(t[c]&&t[c].forEach(r));if(t[l])for(const e of t[d])if(g===e.selector)return void t[l].forEach(r)}))}(t,boxapi._multiSelects[_][t.pageName][s]):o===c?function(e,t){$(e.selector);let o=e;$(document).on("BOX_BUTTON_CLICK",(function(e,a,i,n,s){let u="#"+i;if(u===o.selector)return t[d].forEach(r),void(t[l]&&t[l].forEach(r));let g=$(u)[0];if(g&&g.attributes){let e=!1,i=[l,c,d,p],n=u;for(var b=0;b<g.attributes.length;b++){var f=g.attributes[b].name;let t,r=n.match(/button\d+/);if(r){let e=r[0];t=boxapi.getElementMetadata(a,e,f)}if(i.includes(f)&&t===o.mdVal){e=!0;const t=PageAnswers.filter((e=>e.page===a));let n=null;for(const e of t){for(const t of e.entries)if("custom"===t.type){n=t;break}if(n)break}if(n){n.value.split(",");const e=[];for(const o of t)for(const t of o.entries)"button"===t.type&&e.push(t);if(e.length>0){let t=e[0].src.match(/button\d+/);if(t){let e=t.input,n=$("#"+e)[0];if(n&&n.attributes)for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t].name;if(n.attributes[t].value===o.mdVal&&i.includes(r)){let t=-1;for(let t=0;t<PageAnswers.length;t++){const o=PageAnswers[t];if(o.page===a){const a=o.entries;for(let o=0;o<a.length;o++){if(a[o].src===e){PageAnswers.splice(t,1);break}}}}PageAnswers.splice(t,1);break}}}}}break}}if(e&&t[c])for(const e of t[c])if(u!==e.selector&&$(e.selector).hasClass("button_selected")){let o=e.selector.replace("#","");return $(e.selector).removeClass(o+"_selected"),$(e.selector).removeClass("button_selected"),void t[c].forEach(r)}}}))}(t,boxapi._multiSelects[_][t.pageName][s]):o===p?function(e,t){$(e.selector);let o=e;$(document).on("BOX_BUTTON_CLICK",(function(e,a,i,n,s){"#"+i===o.selector&&t[p].forEach(r)}))}(t,boxapi._multiSelects[_][t.pageName][s]):o===u?function(t,o){$(t.selector);let a=t;$(document).on("BOX_BUTTON_CLICK",(function(t,o,n,r,s){if("#"+n===a.selector)return"select"==a.settings.action&&i(a),void setTimeout(e.selectButtonCount,500,a)}))}(t,boxapi._multiSelects[_][t.pageName][s]):o===f&&function(e,t){let o=$(e.selector),a=e;if("select"==a.settings.action&&"true"===$(o).attr(f)&&e.pageName==CURRENT_PAGE)i(a),t[f].forEach(n),t[f].forEach(i)}(t,boxapi._multiSelects[_][t.pageName][s])};for(const x of m)switch(x.mdKey){case l:case c:case f:case p:case u:case d:boxapi.addSelectX(x,x.mdKey,x.mdVal)}e.selectButtonCount=function(e=null){const t="main"==CURRENT_PAGE?"layout":CURRENT_PAGE+"layout",o="#"+t,a=$(o).attr(b);if(!a)return void(null!=e&&_.errorNotifyApp("Invalid setting on "+md.pageName+": "+b+" must be number of range(min-max)"));let i="Must select appropriate number of options";$(o).attr(g)&&(i=$(o).attr(g));const n=$("#"+t+" button[class*='selected']");if(-1!==a.indexOf("-")){const t=parseInt(a.split("-")[0]),o=parseInt(a.split("-")[1]);if(n.length<t||n.length>o)return _.warnNotifyApp("Rejecting submission due to "+n.length+" but must be between "+t+" and "+o),n.length>o&&null!=e&&($(e.selector).hasClass("button_selected")&&r(e),boxapi.showError(i)),null==e&&boxapi.showError(i),!1}else{const e=parseInt(a);if(!1===isNaN(e))return _.errorNotifyApp("Button count must be a number or range of numbers at "+b),!1;if(n.length!==e)return _.warnNotifyApp("Rejecting submission due to "+n.length+" selected vs. required "+e),boxapi.showError(i),!1}return!0}}catch(S){return BOX_CUSTOM_JS.logError(S,"custom_js_boxes"),S.message="DIGIOH: Custom JS Boxes #20308 -- "+S.message,window.console.error(S),!0}},CUSTOM_JS_BOX_EMBED["5bd383a6-f708-4bd8-8225-cdafa0fc1617"]={},CUSTOM_JS_BOX_EMBED["5bd383a6-f708-4bd8-8225-cdafa0fc1617"].trigger="After Form Validation",CUSTOM_JS_BOX_EMBED["5bd383a6-f708-4bd8-8225-cdafa0fc1617"].include_filter="",CUSTOM_JS_BOX_EMBED["5bd383a6-f708-4bd8-8225-cdafa0fc1617"].exclude_filter="",CUSTOM_JS_BOX_EMBED["5bd383a6-f708-4bd8-8225-cdafa0fc1617"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["5bd383a6-f708-4bd8-8225-cdafa0fc1617"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{if("function"!=typeof e.selectButtonCount)return;if(!1===e.selectButtonCount())return!1}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #20309 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["3b1dbbc9-ab84-420a-9506-d309a6df49f7"]={},CUSTOM_JS_BOX_EMBED["3b1dbbc9-ab84-420a-9506-d309a6df49f7"].trigger="After Change Pages",CUSTOM_JS_BOX_EMBED["3b1dbbc9-ab84-420a-9506-d309a6df49f7"].include_filter="",CUSTOM_JS_BOX_EMBED["3b1dbbc9-ab84-420a-9506-d309a6df49f7"].exclude_filter="",CUSTOM_JS_BOX_EMBED["3b1dbbc9-ab84-420a-9506-d309a6df49f7"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["3b1dbbc9-ab84-420a-9506-d309a6df49f7"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{const e=boxapi.findAllMetadata(),t="select_autoselect";for(const o of e)if(o.mdKey===t)boxapi.addSelectX(o,o.mdKey,o.mdVal)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #20310 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["a4c1144d-86d8-49a5-83e2-e972e771db6b"]={},CUSTOM_JS_BOX_EMBED["a4c1144d-86d8-49a5-83e2-e972e771db6b"].trigger="After Form Validation",CUSTOM_JS_BOX_EMBED["a4c1144d-86d8-49a5-83e2-e972e771db6b"].include_filter="",CUSTOM_JS_BOX_EMBED["a4c1144d-86d8-49a5-83e2-e972e771db6b"].exclude_filter="",CUSTOM_JS_BOX_EMBED["a4c1144d-86d8-49a5-83e2-e972e771db6b"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["a4c1144d-86d8-49a5-83e2-e972e771db6b"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{if(boxapi.ogTags){const t=boxapi.getPageMetadata();if(t){let a=t.filter((function(e){return e.k.match("og:")}));const i=e.ogTagsObj;if(a.length>0){for(const e in a)o[a[e].v]=i[a[e].k],"og:title"!==a[e].k&&"og:description"!==a[e].k||i[a[e].k]&&(o[a[e].v]=i[a[e].k].replaceAll("-","").replaceAll('"',"").replaceAll("'","'").replaceAll(/[\u2018\u2019]/g,"'").replaceAll(/[\u2013\u2014]/g,"-").replaceAll(/[\u00E8\xe8]/g,"è").replaceAll(/[\u00EE\xEE]/g,"î").replaceAll(/[\u00F1\xF1]/g,"ñ").replaceAll(/[\u00E9\xE9]/g,"é").replaceAll(/[\u00F6\xF6]/g,"ö").replaceAll(/[\u00EA\xEA]/g,"ê").replaceAll(/[\u00AE\xAE]/g,"®").replaceAll(/[\u0082\x82]/g,",").replaceAll(/[\u00C9\xC9]/g,"É").replaceAll(/[\u00F9\xF9]/g,"ù").replaceAll(/[\u00ED\xED]/g,"í").replaceAll(/[\u00E1\xE1]/g,"á").replaceAll(/[\u201C\u201D]/g,"").replaceAll(/[\u00A0\xA0]/g,"")),"og:ogPageFields"===a[e].k&&(o[a[e].v]=JSON.stringify(JSON.stringify(i)));return o}}}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #20479 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["ea2cbe25-2a4c-4d5d-873d-86400299bd49"]={},CUSTOM_JS_BOX_EMBED["ea2cbe25-2a4c-4d5d-873d-86400299bd49"].trigger="After DOM Ready",CUSTOM_JS_BOX_EMBED["ea2cbe25-2a4c-4d5d-873d-86400299bd49"].include_filter="",CUSTOM_JS_BOX_EMBED["ea2cbe25-2a4c-4d5d-873d-86400299bd49"].exclude_filter="",CUSTOM_JS_BOX_EMBED["ea2cbe25-2a4c-4d5d-873d-86400299bd49"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["ea2cbe25-2a4c-4d5d-873d-86400299bd49"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{const t="ogTags";boxapi.ogTags=boxapi.getWidgetMetadata(t),boxapi.ogTags||e.warnNotifyApp("For Og tags set Box Level metadata  "+t)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #20588 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["a5f63618-a67f-46b8-9c10-a90cd509e300"]={},CUSTOM_JS_BOX_EMBED["a5f63618-a67f-46b8-9c10-a90cd509e300"].trigger="After Form Validation",CUSTOM_JS_BOX_EMBED["a5f63618-a67f-46b8-9c10-a90cd509e300"].include_filter="",CUSTOM_JS_BOX_EMBED["a5f63618-a67f-46b8-9c10-a90cd509e300"].exclude_filter="",CUSTOM_JS_BOX_EMBED["a5f63618-a67f-46b8-9c10-a90cd509e300"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["a5f63618-a67f-46b8-9c10-a90cd509e300"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{if("function"==typeof isValidEmail&&o.email)return isValidEmail(o.email)||boxapi.showError("Invalid email"),isValidEmail(o.email)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #20667 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["49fbe77d-102b-4015-b878-80192040c9bf"]={},CUSTOM_JS_BOX_EMBED["49fbe77d-102b-4015-b878-80192040c9bf"].trigger="After Display",CUSTOM_JS_BOX_EMBED["49fbe77d-102b-4015-b878-80192040c9bf"].include_filter="268321, 269484",CUSTOM_JS_BOX_EMBED["49fbe77d-102b-4015-b878-80192040c9bf"].exclude_filter="",CUSTOM_JS_BOX_EMBED["49fbe77d-102b-4015-b878-80192040c9bf"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["49fbe77d-102b-4015-b878-80192040c9bf"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{$(document).on("BOX_BUTTON_CLICK",(function(t,o,a,i){if(/button/.test(a)&&i.selected_field&&i.selected_value){const t=i.selected_value,o="custom_"+i.selected_field;if("custom_3"==o&&(setTimeout((function(){let t="button2",o=$("#"+t),a=t+"_selected";o.addClass(a),o.addClass("button_selected"),e.setDataLayerValue("custom_3","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_3","1")}),50),e.setDataLayerValue("custom_8","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_8","1"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_4"),e.removeDataLayerValue("custom_4"),$("#button3").removeClass("button3_selected"),$("#button3").removeClass("button_selected"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_5"),e.removeDataLayerValue("custom_5"),$("#button4").removeClass("button4_selected"),$("#button4").removeClass("button_selected"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_6"),e.removeDataLayerValue("custom_6"),$("#button5").removeClass("button5_selected"),$("#button5").removeClass("button_selected"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_7"),e.removeDataLayerValue("custom_7"),$("#button6").removeClass("button6_selected"),$("#button6").removeClass("button_selected")),"custom_4"==o){let t="button2",o=$("#"+t),a=t+"_selected";o.addClass(a),o.addClass("button_selected"),e.setDataLayerValue("custom_3","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_3","1"),setTimeout((function(){let t="button3",o=$("#"+t),a=t+"_selected";o.addClass(a),o.addClass("button_selected"),e.setDataLayerValue("custom_4","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_4","1")}),50),e.setDataLayerValue("custom_8","2"),e.setDataLayerValue(boxapi.getPageName()+"_custom_8","2"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_5"),e.removeDataLayerValue("custom_5"),$("#button4").removeClass("button4_selected"),$("#button4").removeClass("button_selected"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_6"),e.removeDataLayerValue("custom_6"),$("#button5").removeClass("button5_selected"),$("#button5").removeClass("button_selected"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_7"),e.removeDataLayerValue("custom_7"),$("#button6").removeClass("button6_selected"),$("#button6").removeClass("button_selected")}if("custom_5"==o){let t="button2",o=$("#"+t),a=t+"_selected";o.addClass(a),o.addClass("button_selected"),e.setDataLayerValue("custom_3","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_3","1");let i="button3",n=$("#"+i),r=i+"_selected";n.addClass(r),n.addClass("button_selected"),e.setDataLayerValue("custom_4","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_4","1"),setTimeout((function(){let t="button4",o=$("#"+t),a=t+"_selected";o.addClass(a),o.addClass("button_selected"),e.setDataLayerValue("custom_5","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_5","1")}),50),e.setDataLayerValue("custom_8","3"),e.setDataLayerValue(boxapi.getPageName()+"_custom_8","3"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_6"),e.removeDataLayerValue("custom_6"),$("#button5").removeClass("button5_selected"),$("#button5").removeClass("button_selected"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_7"),e.removeDataLayerValue("custom_7"),$("#button6").removeClass("button6_selected"),$("#button6").removeClass("button_selected")}if("custom_6"==o){let t="button2",o=$("#"+t),a=t+"_selected";o.addClass(a),o.addClass("button_selected"),e.setDataLayerValue("custom_3","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_3","1");let i="button3",n=$("#"+i),r=i+"_selected";n.addClass(r),n.addClass("button_selected"),e.setDataLayerValue("custom_4","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_4","1");let s="button4",l=$("#"+s),c=s+"_selected";l.addClass(c),l.addClass("button_selected"),e.setDataLayerValue("custom_5","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_5","1"),setTimeout((function(){let t="button5",o=$("#"+t),a=t+"_selected";o.addClass(a),o.addClass("button_selected"),e.setDataLayerValue("custom_6","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_6","1")}),50),e.setDataLayerValue("custom_8","4"),e.setDataLayerValue(boxapi.getPageName()+"_custom_8","4"),e.removeDataLayerValue(boxapi.getPageName()+"_custom_7"),e.removeDataLayerValue("custom_7"),$("#button6").removeClass("button6_selected"),$("#button6").removeClass("button_selected")}if("custom_7"==o){let t="button2",o=$("#"+t),a=t+"_selected";o.addClass(a),o.addClass("button_selected"),e.setDataLayerValue("custom_3","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_3","1");let i="button3",n=$("#"+i),r=i+"_selected";n.addClass(r),n.addClass("button_selected"),e.setDataLayerValue("custom_4","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_4","1");let s="button4",l=$("#"+s),c=s+"_selected";l.addClass(c),l.addClass("button_selected"),e.setDataLayerValue("custom_5","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_5","1");let d="button5",p=$("#"+d),u=d+"_selected";p.addClass(u),p.addClass("button_selected"),e.setDataLayerValue("custom_6","1"),e.setDataLayerValue(boxapi.getPageName()+"_custom_6","1"),e.setDataLayerValue("custom_8","5"),e.setDataLayerValue(boxapi.getPageName()+"_custom_8","5")}e.setDataLayerValue(o,t)}}))}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #21026 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["9c2aab89-a5bc-4158-acd7-02ad2683a8b0"]={},CUSTOM_JS_BOX_EMBED["9c2aab89-a5bc-4158-acd7-02ad2683a8b0"].trigger="Before Display",CUSTOM_JS_BOX_EMBED["9c2aab89-a5bc-4158-acd7-02ad2683a8b0"].include_filter="269484,268321",CUSTOM_JS_BOX_EMBED["9c2aab89-a5bc-4158-acd7-02ad2683a8b0"].exclude_filter="",CUSTOM_JS_BOX_EMBED["9c2aab89-a5bc-4158-acd7-02ad2683a8b0"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["9c2aab89-a5bc-4158-acd7-02ad2683a8b0"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{if("function"==typeof e.getUrlParameter){let t=e.getUrlParameter("title"),o=e.getUrlParameter("image");e.getUrlParameter("url");o&&$("#image1").attr("src",o),t&&$("#text3").text("How did you like "+t+"?")}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #21132 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["0552ffdc-107d-4e98-bd77-08f7bcda56f2"]={},CUSTOM_JS_BOX_EMBED["0552ffdc-107d-4e98-bd77-08f7bcda56f2"].trigger="After Display",CUSTOM_JS_BOX_EMBED["0552ffdc-107d-4e98-bd77-08f7bcda56f2"].include_filter="278392, 283505, 285347, 317108",CUSTOM_JS_BOX_EMBED["0552ffdc-107d-4e98-bd77-08f7bcda56f2"].exclude_filter="",CUSTOM_JS_BOX_EMBED["0552ffdc-107d-4e98-bd77-08f7bcda56f2"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["0552ffdc-107d-4e98-bd77-08f7bcda56f2"].code=function(e,t,o){var a,i={};i.log=BOX_CUSTOM_JS.log;try{$("#html1").append('<link rel=\'stylesheet\' href=\'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\'><div><style>.peg,.wheelSVG{visibility:hidden}.wheelContainer,body,html{width:123%;height:100%;margin:0;padding:0;left:42%!important}.centerCircle,.valueContainer,.wheelOutline,.wheelText{pointer-events:none}.toast,.wheelContainer,body,html{text-align:center}.wheelContainer{transform:translate(-50%,0)}.toast,button{position:absolute}body{overflow:hidden}body,html{margin:0;padding:0}.wheelContainer{position:absolute;max-width:680px;margin-left:auto;margin-right:auto;left:50%}.wheelSVG{position:absolute;overflow:visible;width:110%;height:auto;top:12px}.wheelText{text-anchor:middle;font-family:\'Fjalla One\',Arial,sans-serif;-webkit-user-select:none;user-select:none}.toast{border-radius:12px;opacity:0;width:100%;background-color:#3AC0F2;top:38px}.toast p{clear:both;font-family:\'Fjalla One\',Arial,sans-serif;margin:23px;font-size:30px;color:#ededed;letter-spacing:0;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:32px;-webkit-transition:line-height .2s ease;transition:line-height .2s ease}#spinbutton1{left:50%;width:80%;top:20px;max-width:400px;padding:20px;font-weight:700;font-size:21px;color:#ffffff;border-radius:6px;border:none;box-shadow:0 2px 0 #88D9F6;cursor:pointer;font-family:\'Fjalla One\',Helvetica,Arial,sans-serif;background-color:#3AC0F2}@media only screen and (max-width:480px){.toast p,.toast span{font-size:18px;line-height:18px}}@media only screen and (min-width:481px) and (max-width:800px){.toast p,.toast span{font-size:38px;line-height:38px}}@media only screen and (min-width:801px){.toast p,.toast span{font-size:58px;line-height:60px}}@media only screen and (max-height:480px){.toast p,.toast span{font-size:33px;line-height:35px}button{font-size:22px;padding:10px;width:65%}.wheelContainer{top:15px}}button:focus{outline:0}</style><div class="wheelContainer"><svg class="wheelSVG" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" text-rendering="optimizeSpeed" preserveAspectRatio="xMidYMin meet"><defs><filter id="shadow" x="-100%" y="-100%" width="550%" height="550%"><feOffset in="SourceAlpha" dx="0" dy="0" result="offsetOut"></feOffset><feGaussianBlur stdDeviation="9" in="offsetOut" result="drop"/><feColorMatrix in="drop" result="color-out" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .3 0"/><feBlend in="SourceGraphic" in2="color-out" mode="normal"/></filter></defs><g class="mainContainer"><g class="wheel"></g></g><g class="centerCircle"/><g class="wheelOutline"/><g class="pegContainer" opacity="1" id="Layer_1-2" data-name="Layer 1"><g><path class="peg" fill="#f05623" d="M-4.42,-1.5 L66.92,-1.5 L31.25,34.79 Z" data-svg-origin="39.2550048828125 9.982500076293945" transform="matrix(1,0,0,1,472.745,24.035)" style="translate:none;rotate:none;scale:none;transform-origin:0px 0px;visibility:visible;"></path></g></g><g class="valueContainer"/><g class="centerCircleImageContainer"/></svg><div class="toast"><p></p></div></div><button style=\'display:none;\' id=\'spinbutton\'><div id=\'resultElement\'><div class=\'toast\'><p></p><p id=\'result\'></p></div></div></button></div>'),$(".toast").attr("style","display:none !important"),e.scriptLoadingFinished=!1,e.jsonData={colorArray:["#AFEDEA","#00AE9E"],segmentValuesArray:[{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/f60a14ce-eac8-48fb-b469-e41c9ea957e5/Chocolate_crinkles.svg",win:!0,resultText:"Chocolate Crinkles",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/5126dd66-95d9-4c62-905b-67558e5d63c0/Crinkle_Cookies.webp",recipeURL:"https://www.allrecipes.com/recipe/9861/chocolate-crinkles-ii/",textColor:"#FFFFFF",coupon:"",integrationId:""},{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/db59243d-bdd2-46d2-abb8-91026ce5d20e/cookie_ball.svg",win:!0,resultText:"Cookie Balls",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/44759551-3e2c-4141-bf30-19df82c2fea3/Cookie_Balls.webp",recipeURL:"https://www.allrecipes.com/recipe/24043/cookie-balls/",textColor:"#FFFFFF",coupon:"",integrationId:""},{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/e66b998a-d6aa-4afe-b340-3539b54be887/Ginger_snap.svg",win:!0,resultText:"Ginger Snaps",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/f6c51beb-7f60-41a6-b4c6-8ea6ea79975c/Ginger_Snaps.webp",recipeURL:"https://www.allrecipes.com/recipe/10757/moms-ginger-snaps/",textColor:"#FFFFFF",coupon:"",integrationId:""},{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/950bbb8e-f840-4eeb-8623-4e114eeb725e/PB_Blossoms.svg",win:!0,resultText:"Peanut Butter Blossoms",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/bb46bd98-6c64-4e22-80f4-4a44d0803e63/Peanut_Butter_Blossoms.webp",recipeURL:"https://www.allrecipes.com/recipe/9920/peanut-blossoms-ii/",textColor:"#FFFFFF",coupon:"",integrationId:""},{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/37e4211e-b8fe-42ea-9c07-59b7e99cb95c/Rugelach.svg",win:!0,resultText:"Rugelach",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/56d77ec2-7573-4ce6-bc1f-cea2787cef0c/Rugelach.webp",recipeURL:"https://www.allrecipes.com/recipe/212789/best-ever-rugelach/",textColor:"#FFFFFF",coupon:"",integrationId:""},{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/81c59a98-8541-4ec7-9ecf-e3043dcd0eba/Snickerdoole.svg",win:!0,resultText:"Snickerdoodles",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/83144b54-059b-440c-951b-3c7aba282ba7/Snickerdoodle.webp",recipeURL:"https://www.allrecipes.com/recipe/240314/grandma-ruths-snickerdoodle-cookies/",textColor:"#FFFFFF",coupon:"",integrationId:""},{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/624bcf1e-6d7a-49b7-a022-b67f64eb5917/Snowballs.svg",win:!0,resultText:"Snowballs",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/59188384-e718-49f1-ae46-cb6001ef17e6/Snowball_Cookies.webp",recipeURL:"https://www.allrecipes.com/recipe/11171/snowballs-ii/",textColor:"#FFFFFF",coupon:"",integrationId:""},{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/3caa9333-ca6a-48f3-937d-f87972df9567/Spritz_star.svg",win:!0,resultText:"Spritz Cookies",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/251c3195-d542-4ccf-a10e-14ef0e56d217/Spritz_Cookies.webp",recipeURL:"https://www.allrecipes.com/recipe/10056/spritz-cookies-ii/",textColor:"#FFFFFF",coupon:"",integrationId:""},{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/2d331449-9ec2-4882-a045-93cffb55c59b/Sugar_cookie.svg",win:!0,resultText:"Sugar Cookies",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/4106fa50-f070-449f-8900-a8333e1daff9/sugar_cookies.png",recipeURL:"https://www.allrecipes.com/recipe/9870/easy-sugar-cookies/",textColor:"#FFFFFF",coupon:"",integrationId:""},{probability:1,type:"image",value:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/4776d33e-fc91-4a19-8ba2-08af01868f5f/thumbprint.svg",win:!0,resultText:"Thumbprint Cookies",resultImage:"https://s3.lightboxcdn.com/vendors/47b4a4dd-ffd7-43db-8118-8002b7c15352/uploads/bc107175-7324-45b2-be79-f31e7d31c8ec/Thumbprint_Cookie.webp",recipeURL:"https://www.allrecipes.com/recipe/269703/perfect-thumbprint-cookies/",textColor:"#FFFFFF",coupon:"",integrationId:""}],svgWidth:1024,svgHeight:768,wheelStrokeColor:"#00AE9E",wheelStrokeWidth:10,wheelSize:680,wheelTextOffsetY:80,wheelTextColor:"#FFFFFF",wheelTextSize:"1.5em",wheelImageOffsetY:40,wheelImageSize:100,centerCircleSize:0,centerCircleStrokeColor:"#FFFFFF",centerCircleStrokeWidth:12,centerCircleFillColor:"#FFFFFF",centerCircleImageUrl:"",centerCircleImageWidth:0,centerCircleImageHeight:0,segmentStrokeColor:"#FFF",segmentStrokeWidth:0,centerX:512,centerY:384,hasShadows:!1,numSpins:1,spinDestinationArray:[],minSpinDuration:3,maxSpinDuration:5,gameOverText:"",invalidSpinText:"INVALID SPIN. PLEASE SPIN AGAIN.",introText:"",introTextVisible:!1,hasSound:!1,gameId:"9a0232ec06bc431114e2a7f3aea03bbe2164f1aa",clickToSpin:!0,spinDirection:"cw",disabledText:""},e.scriptsURLS=["//unpkg.co/gsap@3/dist/gsap.min.js","//s3.lightboxcdn.com/vendors/50b1b4bc-bac8-40cb-bd27-77427f2314dc/uploads/b4d950f8-e2d2-4d85-852a-f0378b4c2c3e/Draggable.min.js","//s3.lightboxcdn.com/vendors/50b1b4bc-bac8-40cb-bd27-77427f2314dc/uploads/200356e6-48bd-4613-afc0-8c3d6647805f/InertiaPlugin.min.js","//s3.lightboxcdn.com/vendors/50b1b4bc-bac8-40cb-bd27-77427f2314dc/uploads/5a64cea0-f5d5-490d-a303-be7b19e8796d/TextPlugin.min.js","//s3.lightboxcdn.com/vendors/50b1b4bc-bac8-40cb-bd27-77427f2314dc/uploads/77ff8620-8ba0-4d62-8226-f86c7eccd0cf/Spin2WinWheel.min.js"];function n(t){let o=function(t){let o,a="",i="",n="";return e.jsonData.segmentValuesArray.forEach((function(e){e.resultText.indexOf(t)>-1&&(a=e.coupon,o=e.integrationId,i=e.resultImage,n=e.recipeURL)})),{coupon:a,integrationId:o,resultImage:i,recipeURL:n}}(t.msg);o.integrationId&&e.addBoxIntegration(boxapi.getId(),o.integrationId),i.log("test::: myResult"),i.log(t),boxapi.result={resultText:t.msg,resultImage:o.resultImage,coupon:o.coupon,recipeURL:o.recipeURL},setTimeout((()=>{boxapi.processSubmit()}),800)}function r(e){i.log("Spin Count: "+e.spinCount+" - Message: "+e.msg)}function s(e){i.log("game ended")}(a=e.scriptsURLS,a.reduce((function(e,t){return e.then((function(){return function(e){return new Promise((function(t,o){var a=document.createElement("script");a.onload=a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||t(this)},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}))}(t)}))}),Promise.resolve())).then((function(){try{setTimeout((()=>{var t;t=document.querySelector("#spinbutton"),e.myWheel=new Spin2WinWheel,e.myWheel.init({data:e.jsonData,onResult:n,onGameEnd:s,onError:r,spinTrigger:t}),TweenMax.set(".wheelText",{rotation:270,transformOrigin:"50% 50%",x:"-=0",y:"+=70"})}),500),$(document).on("BOX_BUTTON_CLICK",(function(e,t,o,a){"button1"===o&&($("#"+o).addClass("button_selected"),validateForm()&&($("#form_input_email").prop("disabled",!0),$("#spinbutton").click()))}))}catch(e){i.log("test: eror: "+e)}}))}catch(l){return BOX_CUSTOM_JS.logError(l,"custom_js_boxes"),l.message="DIGIOH: Custom JS Boxes #21993 -- "+l.message,window.console.error(l),!0}},CUSTOM_JS_BOX_EMBED["ec62cf18-4e12-4f20-a009-83c457514a05"]={},CUSTOM_JS_BOX_EMBED["ec62cf18-4e12-4f20-a009-83c457514a05"].trigger="After Change Pages",CUSTOM_JS_BOX_EMBED["ec62cf18-4e12-4f20-a009-83c457514a05"].include_filter="278392, 283505, 285347, 317108",CUSTOM_JS_BOX_EMBED["ec62cf18-4e12-4f20-a009-83c457514a05"].exclude_filter="",CUSTOM_JS_BOX_EMBED["ec62cf18-4e12-4f20-a009-83c457514a05"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["ec62cf18-4e12-4f20-a009-83c457514a05"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.result&&(e.setDataLayerValue("custom_100",boxapi.result.resultText),e.setDataLayerValue("custom_101",boxapi.result.resultImage),$("#ep1text3").text(boxapi.result.resultText),$("#ep1image2").attr("src",boxapi.result.resultImage),settings.ep1button1.url=boxapi.result.recipeURL)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #21996 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["f88fe873-4d53-4cbd-ad21-254df6aa6cad"]={},CUSTOM_JS_BOX_EMBED["f88fe873-4d53-4cbd-ad21-254df6aa6cad"].trigger="After Change Pages",CUSTOM_JS_BOX_EMBED["f88fe873-4d53-4cbd-ad21-254df6aa6cad"].include_filter="284474,284395",CUSTOM_JS_BOX_EMBED["f88fe873-4d53-4cbd-ad21-254df6aa6cad"].exclude_filter="",CUSTOM_JS_BOX_EMBED["f88fe873-4d53-4cbd-ad21-254df6aa6cad"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["f88fe873-4d53-4cbd-ad21-254df6aa6cad"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{const t=e.getDataLayerValue("custom_19",boxapi.getId()).split(",");let o=t[0],a=t[1];settings.ep1button1.url=a,$("#ep1image2").attr("src",o);"main"==boxapi.getPageName()&&$("#form_input_email").prop("disabled",!0)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #22516 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["56613393-60b6-412e-ab6a-eb564cbf78a9"]={},CUSTOM_JS_BOX_EMBED["56613393-60b6-412e-ab6a-eb564cbf78a9"].trigger="After Display",CUSTOM_JS_BOX_EMBED["56613393-60b6-412e-ab6a-eb564cbf78a9"].include_filter="286746",CUSTOM_JS_BOX_EMBED["56613393-60b6-412e-ab6a-eb564cbf78a9"].exclude_filter="",CUSTOM_JS_BOX_EMBED["56613393-60b6-412e-ab6a-eb564cbf78a9"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["56613393-60b6-412e-ab6a-eb564cbf78a9"].code=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{const t=e.getWidgetMetadata(boxapi.getId(),"docIdField"),o=parent.document.documentElement.innerHTML.match(/docId['"]?\s*:\s*['"]?(\d+)['"]?/);o&&t?(e.setDataLayerValue(t,o[1]),a.log("DIGIOH LOGGER >>>>>>>>> docId found: "+o[1])):a.log("DIGIOH LOGGER >>>>>>>>> No docId found.")}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #23186 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["38e11e9f-c6bc-4026-bfc4-13d696297279"]={},CUSTOM_JS_BOX_EMBED["38e11e9f-c6bc-4026-bfc4-13d696297279"].trigger="Before Change Pages",CUSTOM_JS_BOX_EMBED["38e11e9f-c6bc-4026-bfc4-13d696297279"].include_filter="",CUSTOM_JS_BOX_EMBED["38e11e9f-c6bc-4026-bfc4-13d696297279"].exclude_filter="",CUSTOM_JS_BOX_EMBED["38e11e9f-c6bc-4026-bfc4-13d696297279"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["38e11e9f-c6bc-4026-bfc4-13d696297279"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{if(!boxapi.findAllMetadata().some((e=>"spinner_result_page"===e.mdKey)))return;const t=e.getDataLayerValue("custom_19"),o=DIGIOH_PRQ.getResults().filter((e=>e.spintext===t));DIGIOH_PRQ.setResults(o)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #24107 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["c8a64a02-6d94-4781-997a-1b9b18cae1db"]={},CUSTOM_JS_BOX_EMBED["c8a64a02-6d94-4781-997a-1b9b18cae1db"].trigger="After DOM Ready",CUSTOM_JS_BOX_EMBED["c8a64a02-6d94-4781-997a-1b9b18cae1db"].include_filter="",CUSTOM_JS_BOX_EMBED["c8a64a02-6d94-4781-997a-1b9b18cae1db"].exclude_filter="",CUSTOM_JS_BOX_EMBED["c8a64a02-6d94-4781-997a-1b9b18cae1db"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["c8a64a02-6d94-4781-997a-1b9b18cae1db"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{try{const t="Spinner Results Page",o="spinner_result_page";if(0===boxapi.findAllMetadata().filter((e=>e.mdKey===o)).length)return;boxapi.spinnerResultsPageNotifier=boxapi.spinnerResultsPageNotifier||e.initAppNotifications(t)}catch(e){return boxapi.spinnerResultsPageNotifier.errorNotifyApp(e.toString()),e.toString()}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #24108 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["fd7c4b62-3ccd-4671-b509-1ec400b180e4"]={},CUSTOM_JS_BOX_EMBED["fd7c4b62-3ccd-4671-b509-1ec400b180e4"].trigger="After DOM Ready",CUSTOM_JS_BOX_EMBED["fd7c4b62-3ccd-4671-b509-1ec400b180e4"].include_filter="299634, 301122, 316615, 316844",CUSTOM_JS_BOX_EMBED["fd7c4b62-3ccd-4671-b509-1ec400b180e4"].exclude_filter="",CUSTOM_JS_BOX_EMBED["fd7c4b62-3ccd-4671-b509-1ec400b180e4"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["fd7c4b62-3ccd-4671-b509-1ec400b180e4"].code=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{!function(e=5,t=500){let o=0;!function i(){const n=$(".pegContainer"),r=$(".wheelSVG");n.length&&r.length?(r.append(n),a.log("pegContainer moved!")):o<e&&(o++,setTimeout(i,t))}()}()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #24119 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["db0dc153-296c-4d9e-a7e9-65718e101ea6"]={},CUSTOM_JS_BOX_EMBED["db0dc153-296c-4d9e-a7e9-65718e101ea6"].trigger="After DOM Ready",CUSTOM_JS_BOX_EMBED["db0dc153-296c-4d9e-a7e9-65718e101ea6"].include_filter="314501",CUSTOM_JS_BOX_EMBED["db0dc153-296c-4d9e-a7e9-65718e101ea6"].exclude_filter="",CUSTOM_JS_BOX_EMBED["db0dc153-296c-4d9e-a7e9-65718e101ea6"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["db0dc153-296c-4d9e-a7e9-65718e101ea6"].code=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{a.log("testing"),a.log($('div[data-ftt-id="6544903"]'))}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #24631 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["416ae5c2-3d73-4aa6-9d39-dc57e150e42c"]={},CUSTOM_JS_BOX_EMBED["416ae5c2-3d73-4aa6-9d39-dc57e150e42c"].trigger="After Display",CUSTOM_JS_BOX_EMBED["416ae5c2-3d73-4aa6-9d39-dc57e150e42c"].include_filter="320960, 320962",CUSTOM_JS_BOX_EMBED["416ae5c2-3d73-4aa6-9d39-dc57e150e42c"].exclude_filter="",CUSTOM_JS_BOX_EMBED["416ae5c2-3d73-4aa6-9d39-dc57e150e42c"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["416ae5c2-3d73-4aa6-9d39-dc57e150e42c"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{window.parent.document.querySelector(".mntl-header-nav__subscribe-link").remove()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #25008 -- "+e.message,window.console.error(e),!0}},CUSTOM_JS_BOX_EMBED["d1cab8cf-d4ee-45c3-b84d-14c4f073426e"]={},CUSTOM_JS_BOX_EMBED["d1cab8cf-d4ee-45c3-b84d-14c4f073426e"].trigger="Before Redirect",CUSTOM_JS_BOX_EMBED["d1cab8cf-d4ee-45c3-b84d-14c4f073426e"].include_filter="322114, 322116",CUSTOM_JS_BOX_EMBED["d1cab8cf-d4ee-45c3-b84d-14c4f073426e"].exclude_filter="",CUSTOM_JS_BOX_EMBED["d1cab8cf-d4ee-45c3-b84d-14c4f073426e"].include_exclude_function="",CUSTOM_JS_BOX_EMBED["d1cab8cf-d4ee-45c3-b84d-14c4f073426e"].code=function(e,t,o){BOX_CUSTOM_JS.log;try{var a=new URLSearchParams(window.parent.location.search).get("regSource");if(a)(i=new URL(o.element.url)).searchParams.set("regSource",a),o.element.url=i.toString();var i,n=o.email||boxapi.getFormData()&&boxapi.getFormData().email;if(n)(i=new URL(o.element.url)).searchParams.set("login_hint",n),o.element.url=i.toString();return o}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes"),e.message="DIGIOH: Custom JS Boxes #25041 -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_ARR=["163","34","708","709","309","789","686","139","666","140","610","173","189","641","417","791","670","778","769","720"],window.CJSAPPS_BOXES={},window.CJSAPPS_BOXES[163]={},window.CJSAPPS_BOXES[163]["Before DOM Ready"]=function(e,t,o){BOX_CUSTOM_JS.log;try{function a(e){if(!e)throw new Error("Invalid empty key");return e.trim()}function n(e){if(!e)return"";let t=e.trim().toLowerCase();return"false"!=t&&("true"==t||e.trim())}function r(){let t=e.getWidgetMetadata(boxapi.getId());return t?t.filter((e=>!!e.k)).map((e=>({mdLevel:"box",mdKey:a(e.k),mdVal:n(e.v),elementType:null,fieldType:null,xName:null,xNameSpecific:null,dlName:null,dlNameSpecific:null,pageName:null,pageSelector:null,selector:"body",kvpActual:e}))).map((e=>(e.settings={metadata_kvps:t},e))):[]}function s(e){let t=e||boxapi.getPageName(),o="main"==t?"":t;return{pageName:t,pagePrefix:o,pagePrefixFields:"main"==t?"":t+"_",pageSettingsProp:o+"layout",pageSelector:"#"+o+"layout"}}function l(e){let t=s(e),o=boxapi.getPageMetadata(t.pageName);return o&&0!==o.length?o.filter((e=>!!e.k)).map((e=>({mdLevel:"page",mdKey:a(e.k),mdVal:n(e.v),elementType:null,fieldType:null,xName:null,xNameSpecific:null,dlName:null,dlNameSpecific:null,settings:settings[t.pagePrefix+"layout"],pageName:t.pageName,pageSelector:t.pageSelector,selector:t.pageSelector,kvpActual:e}))):[]}function c(e){let t=s(e);if(!settings[t.pageSettingsProp])return[];function o(e,t,o){let i=settings[e.pagePrefix+t+o];if(!i||!i.display)return[];let r=i.metadata_kvps;return r&&0!==r.length?r.filter((e=>!!e.k)).map((r=>({mdLevel:"element",mdKey:a(r.k),mdVal:n(r.v),elementType:t,fieldType:null,xName:null,xNameSpecific:null,dlName:null,dlNameSpecific:null,settings:i,pageName:e.pageName,pageSelector:e.pageSelector,selector:"#"+e.pagePrefix+t+o,kvpActual:r}))):[]}let i=[];return["text","image","button","html"].forEach((e=>{for(let a=1;a<=50;a++){let n=o(t,e,a);n&&(i=i.concat(n))}})),i}function d(e){let t=s(e);if(!settings[t.pageSettingsProp])return[];function o(e,t,o){let i=settings[e.pagePrefixFields+t+(o||"")];if(!i||!i.display)return[];let r=i.metadata_kvps;if(!r||0===r.length)return[];let s=[];return r.filter((e=>!!e.k)).forEach((r=>{let l=t+(o?"_"+o:""),c=e.pageName+"_"+t+(o?"_"+o:""),d=e.pagePrefixFields+"form_input_"+t+(o||""),p="#"+d,u=document.getElementById(d),g="";if(u)g="INPUT"==u.nodeName?u.getAttribute("type").toLowerCase():u.nodeName.toLowerCase();else if("datedrop"==i.field_type)p="#"+d+"_datedrop_dd,#"+d+"_datedrop_mm,#"+d+"_datedrop_yyyy",d+="_wrapper",g="select";else{if("radio"!=i.field_type)return;{d+="_radio_wrapper";let e=[];$("#"+d).find("input[type=radio]").each((function(){e.push("#"+$(this).attr("id"))})),p=e.join(","),g="radio"}}s.push({mdLevel:"field",mdKey:a(r.k),mdVal:n(r.v),elementType:null,fieldType:g,xName:l,xNameSpecific:c,dlName:l,dlNameSpecific:c,settings:i,pageName:e.pageName,pageSelector:e.pageSelector,selector:p,kvpActual:r})})),s}settings.first_name=settings.name,settings.last_name=settings.name,settings.full_name=settings.name;let i=[];["name","full_name","first_name","last_name","email","phone","opt_in"].forEach((e=>{let a=o(t,e);a&&(i=i.concat(a))}));for(let e=1;e<=100;e++){let a=o(t,"custom",e);a&&(i=i.concat(a))}return i}function p(){let e=r()||[];function t(t,o){if(settings[o]){let o=d(t)||[],a=c(t)||[],i=l(t)||[];e=e.concat(o).concat(a).concat(i)}}for(t("main","layout"),t("thx","thxlayout"),i=0;i<=100;i++)t("ep"+i,"ep"+i+"layout");return e}boxapi.findWidgetMetadata=r,boxapi.findPageMetadata=l,boxapi.findElementMetadata=c,boxapi.findFieldMetadata=d,boxapi.findMetadata=function(e){let t=p()||[],o=[];for(const a of t)a.mdKey&&a.mdKey.indexOf(e)>=0&&o.push(a);return o},boxapi.findAllMetadata=p}catch(u){return BOX_CUSTOM_JS.logError(u,"custom_js_boxes_apps"),u.message="DIGIOH: Custom JS Apps #163 (BoxID="+boxapi.getId()+", Before DOM Ready) -- "+u.message,window.console.error(u),!0}},window.CJSAPPS_BOXES[34]={},window.CJSAPPS_BOXES[34]["After Display"]=function(e,t,o){BOX_CUSTOM_JS.log;try{window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer.push({DigiohBoxName:t.lightbox_name+(t.is_variation?" ["+t.variation_name+"]":""),event:"DigiohDisplay"})}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #34 (BoxID="+boxapi.getId()+", After Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[34]["After Submit"]=function(e,t,o){BOX_CUSTOM_JS.log;try{window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer.push({DigiohBoxName:t.lightbox_name+(t.is_variation?" ["+t.variation_name+"]":""),event:"DigiohSubmit"})}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #34 (BoxID="+boxapi.getId()+", After Submit) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[34]["After Redirect"]=function(e,t,o){BOX_CUSTOM_JS.log;try{window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer.push({DigiohBoxName:t.lightbox_name+(t.is_variation?" ["+t.variation_name+"]":""),event:"DigiohRedirect"})}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #34 (BoxID="+boxapi.getId()+", After Redirect) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[34]["After Download"]=function(e,t,o){BOX_CUSTOM_JS.log;try{window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer.push({DigiohBoxName:t.lightbox_name+(t.is_variation?" ["+t.variation_name+"]":""),event:"DigiohDownload"})}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #34 (BoxID="+boxapi.getId()+", After Download) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[34]["After Close"]=function(e,t,o){BOX_CUSTOM_JS.log;try{window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer.push({DigiohBoxName:t.lightbox_name+(t.is_variation?" ["+t.variation_name+"]":""),event:"DigiohClose"})}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #34 (BoxID="+boxapi.getId()+", After Close) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[708]={},window.CJSAPPS_BOXES[708]["After DOM Ready"]=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{const c="Digioh Analytics Tracker",d="conversion",p="page_custom_event",u="tracker_disable";boxapi.trackingAnalyticsNotifier=boxapi.trackingAnalyticsNotifier||e.initAppNotifications(c);const g=boxapi.findAllMetadata(),b=g.filter((e=>e.mdKey==d)),f=g.filter((e=>e.mdKey==p));let _=boxapi.getWidgetMetadata(u)||e.getAccountMetadata(u);function i(){return e.trackingPlugins||[]}function n(o){const a=o||{};a.digioh_box_name=a.digioh_box_name||boxapi.getName()+(t.variation_id?" (Variation:"+t.variation_short_id+")":""),a.digioh_box_type=a.digioh_box_type||function(){const t=boxapi.getBoxType(),o=e.GET_EFFECTS(boxapi.getGuid());return boxapi.getWidgetMetadata("prq_gsheet_gid")||boxapi.getWidgetMetadata("prq_csv_url")||o.quiz&&o.quiz.enabled?"converge:"+t:"connect:"+t}(),a.digioh_box_id=a.digioh_box_id||boxapi.getId().toString(),t.variation_id&&(a.digioh_box_variation_id=a.digioh_box_variation_id||t.variation_id),a.digioh_url_path=a.digioh_url_path||e.getPagePath(),a.digioh_hq_id=a.digioh_hq_id||e.getAccountId();const i=e.getUrlParameter("dctx");return i&&(a.digioh_traffic_context=i),a}function r(){let e="main"==boxapi.getPageName()?"":boxapi.getPageName();const t=settings[e+"layout"];return t.page_name?t.page_name:boxapi.getPageName()}function s(e,t,o){const a={};a.digioh_box_page=r(),a.digioh_box_conversion=e,t?(a.digioh_box_conversion_type="button",a.digioh_box_conversion_button=t,o&&(a.digioh_box_conversion_cta=o)):a.digioh_box_conversion_type="page",boxapi.trackEvent("digioh_box_conversion",a)}function l(e,t){let o="<strong>"+e+"</strong></br><ul>";for(const e of Object.keys(t))o+="<li>"+e+" : "+t[e]+"</li>";return o+="</ul>",o}_=_?_.split(",").map((e=>e.trim())):[],e.trackingPlugins=e.trackingPlugins||[],boxapi.queuedEvents=boxapi.queuedEvents||[],boxapi.trackEventQueue=boxapi.trackEventQueue||[],boxapi.trackEvent=function(e,t={},o={}){const a=i();if("string"!=typeof e||0==e.trim().length)throw new Error("boxapi.trackEvent(eventName, eventPayload) - missing or invalid eventName");"object"==typeof a&&0!=a.length||boxapi.queueEvent(e,t),o.bypassDefaultPayload||(t=n(t)),function(e){if(null===e)return;for(const t in e){if(null===e[t]||void 0===e[t]){delete e[t];continue}"string"==typeof e[t]&&(e[t]=e[t].trim());const o=t.trim();o!==t&&(e[o]=e[t],delete e[t])}}(t);for(const i of a){if("object"!=typeof i||!i.pluginName||!i.trackingFun||"function"!=typeof i.trackingFun)throw new Error("boxapi.trackEvent(eventName, eventPayload) - invalid plugin "+i.pluginName);if(!_.includes(i.pluginName)){if(o.hasOwnProperty("trackPlugin")&&o.trackPlugin!==i.pluginName)continue;i.pluginStatus()?(i.trackingFun(e,t),boxapi.trackingAnalyticsNotifier.infoNotifyApp(`${i.pluginName.toUpperCase()} - ${l(e,t)}`)):boxapi.queueEvent(e,t,i.pluginName)}}},boxapi.registerPlugin=function(t){e.trackingPlugins.find((e=>e.pluginName===t.pluginName))||(e.trackingPlugins.push(t),boxapi.trackingAnalyticsNotifier.infoNotifyApp(`${t.pluginName.toUpperCase()} tracker has been registered.`))},boxapi.queueEvent=function(e,t,o=""){boxapi.queuedEvents.push({eventName:e,propsObj:t,pluginName:o}),boxapi.trackingAnalyticsNotifier.infoNotifyApp(`${o?o.toUpperCase()+" ":""}Event queued: ${e}`)},boxapi.appendQueryParam=function(e,t,o){const a=encodeURIComponent(t),i=encodeURIComponent(o);let[n,r]=e.split("#"),[s,l]=n.split("?");const c=new URLSearchParams(l);c.set(a,i);const d=`${s}?${c.toString()}`;return r?`${d}#${r}`:d},boxapi.trackDisplay=function(){boxapi.trackEvent("digioh_box_display")},boxapi.trackSubmit=function(){let e="main"==boxapi.getPageName()?"":boxapi.getPageName()+"_";if("skip"==settings[e+"form"].override_integration)return void boxapi.trackingAnalyticsNotifier.infoNotifyApp("Skipping submission tracking due to form settings");boxapi.trackEvent("digioh_box_submit",{digioh_box_page:r()});const t=boxapi.getFormData();if(t.opt_in){const e=t.opt_in;/true/i.test(e)?boxapi.trackEvent("digioh_box_optin",{}):/false/i.test(e)&&boxapi.trackEvent("digioh_box_optout",{})}},boxapi.trackRedirect=function(e){const t={};t.digioh_box_redirect_domain=function(e){const t=document.createElement("a");return t.href=e,t.hostname}(e),t.digioh_box_redirect_path=function(e){const t=document.createElement("a");return t.href=e,t.pathname}(e),boxapi.trackEvent("digioh_box_redirect",t)},boxapi.trackDownload=function(e){boxapi.trackEvent("digioh_box_download",{digioh_box_download_url:e})},boxapi.trackClose=function(){boxapi.trackEvent("digioh_box_close")},boxapi.trackBoxPageView=function(){boxapi.trackEvent("digioh_box_pageview",{digioh_box_page:r()})},boxapi.trackEmailCaptured=function(){boxapi.trackEvent("digioh_collected_email")},boxapi.trackPhoneCaptured=function(){boxapi.trackEvent("digioh_collected_phone")},boxapi.trackPageConversion=function(){const e=boxapi.getPageName(),t=b.filter((t=>t.pageName==e&&"page"==t.mdLevel));for(const e of t){s(e.mdVal)}},boxapi.trackPageCustomEvent=function(){const e=boxapi.getPageName(),t=f.filter((t=>t.pageName==e&&"page"==t.mdLevel));for(const e of t){const t=e.mdVal;boxapi.trackEvent(t)}},boxapi.initTimeOnPage=function(){boxapi.pageStartTimes=boxapi.pageStartTimes||{},boxapi.pageStartTimes.main=(new Date).getTime()},boxapi.trackTimeOnPage=function(e){if(!/^(main|thx|ep\d\d?)$/.test(e))throw new Error("Invalid oldPage name "+e);const t=(new Date).getTime();boxapi.pageStartTimes=boxapi.pageStartTimes||{};const o=n({}),a="main"==e?settings.layout:settings[e+"layout"],i=a&&a.page_name?a.page_name:e;o.digioh_box_page=i;const r=boxapi.pageStartTimes[e];if(r){const e=t-r;o.value=e,e<12e4&&boxapi.trackEvent("digioh_box_page_time",o,{bypassDefaultPayload:!0})}boxapi.pageStartTimes[boxapi.getPageName()]=t},boxapi.trackBoxEngaged=function(e){boxapi.trackedEngaged||(boxapi.trackEvent("digioh_box_engaged"),boxapi.trackedEngaged=!0)};for(const m of i())_.includes(m.pluginName)&&boxapi.trackingAnalyticsNotifier.infoNotifyApp(`${m.pluginName} tracker <strong>disabled</strong> for box ${boxapi.getId()}`);!function(){const e=g.filter((e=>e.mdKey==d&&"button"==e.elementType));$(document).on("BOX_BUTTON_CLICK",(function(t,o,a,i){const n="#"+a;i&&i.action&&"close"!==i.action&&boxapi.trackBoxEngaged();for(const t of e)if(t.selector==n){s($(t.selector).attr(d),a)}}))}();for(const x of boxapi.trackEventQueue)boxapi.trackEvent(x.eventName,x.propsObj);setInterval((function(){const e=i();boxapi.queuedEvents=boxapi.queuedEvents.filter((t=>{try{if(t.pluginName){const o=e.find((e=>e.pluginName===t.pluginName));if(o&&o.pluginStatus())return boxapi.trackEvent(t.eventName,t.propsObj,t.pluginName),!1}else{if(e.length&&e.every((e=>e.pluginStatus())))return boxapi.trackEvent(t.eventName,t.propsObj),!1}return!0}catch(e){a.error("Error processing queued event:",e)}return!0}))}),1e3)}catch(S){return BOX_CUSTOM_JS.logError(S,"custom_js_boxes_apps"),S.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", After DOM Ready) -- "+S.message,window.console.error(S),!0}},window.CJSAPPS_BOXES[708]["After Display"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.trackDisplay(),boxapi.trackBoxPageView(),boxapi.initTimeOnPage(),boxapi.trackPageConversion(),boxapi.trackPageCustomEvent(),boxapi.boxIsDisplaying=!0}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", After Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[708]["After Form Validation"]=function(e,t,o){BOX_CUSTOM_JS.log;try{let i=boxapi.getFormData(),n=boxapi.getPageName();function a(e){return"string"==typeof e&&e.trim().length>0}n="main"==n?"":n+"_";let r=a(i.email),s=a(i.phone);for(let l of Object.keys(i).filter((e=>/^custom_/.test(e)&&i[e]))){let c=n+l.replace("_","");if(!settings[c])continue;let d=settings[c].validation;/^email/.test(d)&&a(i[l])?r=!0:/^phone/.test(d)&&a(i[l])&&(s=!0)}r&&boxapi.trackEmailCaptured(),s&&boxapi.trackPhoneCaptured()}catch(p){return BOX_CUSTOM_JS.logError(p,"custom_js_boxes_apps"),p.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", After Form Validation) -- "+p.message,window.console.error(p),!0}},window.CJSAPPS_BOXES[708]["After Submit"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.trackSubmit()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", After Submit) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[708]["Before Redirect"]=function(e,t,o){BOX_CUSTOM_JS.log;try{return o.element.url=boxapi.appendQueryParam(o.element.url,"dctx",boxapi.getId()),o}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", Before Redirect) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[708]["After Redirect"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.trackRedirect(o.element.url),boxapi.trackBoxEngaged()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", After Redirect) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[708]["After Download"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.trackDownload(o.element.file),boxapi.trackBoxEngaged()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", After Download) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[708]["Before Open Another Box"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.trackBoxEngaged()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", Before Open Another Box) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[708]["After Change Pages"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.boxIsDisplaying&&(boxapi.trackBoxPageView(),boxapi.trackPageConversion(),boxapi.trackPageCustomEvent(),boxapi.trackTimeOnPage(o.old_page),boxapi.trackBoxEngaged(o.old_page))}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", After Change Pages) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[708]["After Close"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.trackClose()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #708 (BoxID="+boxapi.getId()+", After Close) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[709]={},window.CJSAPPS_BOXES[709]["After DOM Ready"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const o=new RegExp("^"+"mergetag_new"),a=/^mergetag_new:([a-zA-Z0-9_]+)$/,i=/^name$|^email$|^first_name$|^last_name$|^phone$|^opt_in$|^custom_\d\d?$/,n="i18n_gsheet_id",r="i18n_gsheet_gid",s=(boxapi.getWidgetMetadata(n),boxapi.getWidgetMetadata(r),boxapi.getWidgetMetadata()||[]);for(const t of s)if(t.k&&o.test(t.k)){const o=t.k.match(a);if(!o){const o="Invalid metadata key "+t.k+" expect "+t.k+":TAG_NAME";throw e.errorNotifyApp(o),new Error(o)}if(!i.test(t.v)){const o="Invalid metadata value "+t.v+" for "+t.k+"; expect name, email, custom_X, ...";throw e.errorNotifyApp(o),new Error(o)}e.infoNotifyApp("Universal Merge Tags: custom tag "+o[1]+" <- "+t.v)}e.getStoredQueryStringVal=e.getStoredQueryStringVal||function(e,t){return""},boxapi.getStoredQueryStringVal=e.getStoredQueryStringVal,boxapi.getPageNameOrTitle=function(){const e="main"==boxapi.getPageName()?"layout":boxapi.getPageName()+"layout",t=settings[e].page_name;return t||boxapi.getPageName()},boxapi.populateMergeTags=function(t){const o=$("#"+("main"==t?"":t)+"layout"),a={pageName:t,_boxapi:boxapi},i=o.find("*:not([id*=wrapper]):not(#form):not([id^=ep][id$=_form]):not([id=thx_form]):not(script)").filter((function(){return(this.textContent||"").includes("[")})),n=o.find(":input[type=text],:input[type=hidden]").filter((function(){return-1!==$(this).val().indexOf("[")})),r=i.add(n);boxapi.universalMergeOriginals=boxapi.universalMergeOriginals||{},r.each((function(){const e=$(this),t=e.attr("id");!t||boxapi.universalMergeOriginals[t]||/\[P?RQ?\s*:/.test(e.html())||(boxapi.universalMergeOriginals[t]="")}));for(const t of Object.keys(boxapi.universalMergeOriginals)){const o=$("#"+t);if(!o.length)continue;if(settings[t]&&settings[t].prq_is_results_text)continue;let i;if(/html/.test(t))i=o.html;else if(o.is("input"))i=o.val;else{if(!(/button|text/.test(t)||/LABEL/i.test(o.prop("tagName"))||o.is("div")))return void e.infoNotifyApp("Universal Merge Tags: don't know how to work with content of #"+t);i=o.html}boxapi.universalMergeOriginals[t]||(boxapi.universalMergeOriginals[t]=i.call(o));const n=e.replaceMergeTagsInString(boxapi.universalMergeOriginals[t],a);i.call(o,n)}let s=boxapi.findAllMetadata||e.findAllMetadata;if(s){const t=s(),o={};for(const i of t){const t=i.selector.replace("#","")+i.mdKey;o[t]=o[t]+1||1;const n=t+o[t];let r=boxapi.universalMergeOriginals[n]||i.mdVal;if(!r||"string"!=typeof r)continue;let s=e.replaceMergeTagsInString(r,a);if(s!==r){boxapi.universalMergeOriginals[n]=r;try{$(i.selector).attr(i.mdKey,s)}catch(e){}i.kvpActual.v=s}}}},e.replaceMergeTagsInString=function(o,i){const n=function(e){return"null"==e||"undefined"==e?"":e||""},r="undefined"!=typeof boxapi;r&&null!=i&&(boxapi=i._boxapi?i._boxapi:boxapi);const s=function(){return n(i&&i.pageName?i.pageName:boxapi.getPageName())};if("string"!=typeof o)throw new Error("UMT expects string, got "+typeof o+" with value "+o.toString());if(!o)return"";if(o.indexOf("[")<0)return o;const l=e.isPreview()?"[N/A in Preview]":"",c="";let d=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.replace(/\[COUNTRY\]/gi,n(e.getClientCountryName())||l)).replace(/\[COUNTRY_CODE\]/gi,n(e.getClientCountryCode())||l)).replace(/\[REGION\]/gi,n(e.getClientRegionOrStateName())||l)).replace(/\[REGION_CODE\]/gi,n(e.getClientRegionOrStateCode())||l)).replace(/\[CITY\]/gi,n(e.getClientCity())||l)).replace(/\[POSTAL_CODE\]/gi,n(e.getClientPostalCode())||l)).replace(/\[REFERRING_URL\]/gi,n(e.getReferrer())||l)).replace(/\[LANDING_URL\]/gi,n(e.getLandingPageUrl())||l)).replace(/\[BROWSER_TYPE\]/gi,n(e.getBrowserType())||l)).replace(/\[WEB_SOURCE\]/gi,n(e.getTrafficSource())||l)).replace(/\[SEARCH_ENGINE\]/gi,n(e.getSearchEngineSource())||l)).replace(/\[PAGE_VISITS\]/gi,n(e.getTotalPageViews())||l)).replace(/\[PAST_VISITS\]/gi,n(e.getTotalSessions())||l)).replace(/\[HOST_NAME\]/gi,n(e.getHostname())||l)).replace(/\[PAGE_PATH\]/gi,n(e.getPagePath())||l)).match(/\[PAGE_PATH\|(\d)\]/);if(d){let t=parseInt(d[1]),a=e.getPagePath().split("/");!isNaN(t)&&t<a.length&&(o=o.replace(d[0],a[t]))}o=(o=o.replace(/\[QUERY_STRING\]/gi,n(e.getQueryString())||l)).replace(/\[IP_ADDRESS\]/gi,n(e.getClientIpAddress())||l),r&&(o=o.replace(/\[(LIGHT)?BOX_NAME\]/gi,n(boxapi.getName())||l)),r&&(o=o.replace(/\[(LIGHT)?BOX_ID\]/gi,n(boxapi.getId())||l)),r&&(o=o.replace(/\[BOX_TYPE\]/gi,n(boxapi.getBoxType())||l)),r&&(o=o.replace(/\[BOX_PAGE(_?NAME)?\]/gi,n(boxapi.getPageTitle(s()))||l)),o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.replace(/\[VARIATION_ID\]/gi,n(t.variation_short_id)||l)).replace(/\[VENDOR_ID\]/gi,n(e.getAccountId())||l)).replace(/\[VENDOR_GUID\]/gi,n(e.getAccountGuid())||l)).replace(/\[DEVICE\]/gi,n(e.getDeviceType())||l)).replace(/\[OPERATING_SYSTEM\]/gi,n(e.getOperatingSystem())||l)).replace(/\[BROWSER_TYPE\]/gi,n(e.getBrowserType())||l)).replace(/\[BROWSER_VERSION\]/gi,n(e.getBrowserVersion())||l)).replace(/\[SUBMIT_URL\]/gi,n(e.getCurrentUrl()?e.getCurrentUrl().replace(/^https?:\/\//,""):"")||l)).replace(/\[SUBMIT_DATE\]/gi,n((new Date).toUTCString())||l)).replace(/\[EMAIL\]/gi,n(e.getDataLayerValue("email")||(e.getEmail?e.getEmail():""))||c)).replace(/\[USER_?ID\]/gi,n(e.getUserId?e.getUserId():"")||c)).replace(/\[PHONE\]/gi,n(e.getDataLayerValue("phone"))||c)).replace(/\[NAME(?:\|([^\]]*))?\]/gi,((t,o)=>n(e.getDataLayerValue("name"))||o||c))).replace(/\[FIRST_NAME(?:\|([^\]]*))?\]/gi,((t,o)=>n(e.getDataLayerValue("first_name"))||o||c))).replace(/\[LAST_NAME(?:\|([^\]]*))?\]/gi,((t,o)=>n(e.getDataLayerValue("last_name"))||o||c))).replace(/\[OPT_IN\]/gi,n(e.getDataLayerValue("opt_in"))||c)).replace(/\[URIENC\|FIRST_NAME\]/gi,n(encodeURIComponent(e.getDataLayerValue("first_name")))||c)).replace(/\[URIENC\|LAST_NAME\]/gi,n(encodeURIComponent(e.getDataLayerValue("last_name")))||c)).replace(/\[URIENC\|EMAIL\]/gi,n(encodeURIComponent(e.getDataLayerValue("email")))||c);const p=window.parent.mParticle&&window.parent.mParticle.Identity&&window.parent.mParticle.Identity.getCurrentUser()?window.parent.mParticle.Identity.getCurrentUser().getMPID():null;if(o=o.replace(/\[MPID\]/gi,p||l),/\[DL\|/.test(o)){const e=o.match(/\[DL\|(\w+)\|(\w+)\]/);if(e&&3==e.length){const t=e[0],a=e[1],i=e[2];let n="";if(window.parent.dataLayer&&a&&i)for(const e of window.parent.dataLayer)if(e.event==a){n=e[i]||"";break}o=o.replace(t,n)}}const u=/\[RX\|/i,g=/\[RX\|([A-Z][A-Z0-9_]+)\|\/((?:\\\/|[^\/])*)\/([gmixsuUAJD]*)\]/i,b=/^(?:[^\\(]|\\.)*\((?:[^\\)]|\\.)*\)(?:[^\\(]|\\.)*$/;for(;u.test(o);)try{const t=o.match(g);if(!t)throw new Error("expected format [RX|SIMPLE_MERGE_TAG_NAME|/rx body/rxflags]");const a=t[0],i="["+t[1]+"]",n=e.replaceMergeTagsInString(i);if(n==i)throw new Error("Invalid simple merge tag "+t[1]+" in "+a);const r=t[2],s=t[3]||"",l=new RegExp(r,s);if(!b.test(r))throw new Error("regexp must contain exactly (one capturing group)");if(/g/.test(s))throw new Error("global match flag 'g' is not supported");const c=n.match(l);let d="";c&&c[1]?d=c[1]:e.warnNotifyApp("[RX] merge tag /"+r+"/"+s+"did not match '"+n+" ("+i+")"),o=o.replace(a,d)}catch(t){e.errorNotifyApp("Invalid RX merge tag in: '"+o+"': "+t.message),o=""}if("function"==typeof e.getGAClientId&&(o=o.replace(/\[GA_CLIENT_ID\]/gi,n(e.getGAClientId())||c)),"function"==typeof o.matchAll){const t=o.matchAll(/\[TEXT_?(\d{1,3})\]/gi);if(r)for(const e of t){const t=e[1],a="main"==s()?"text"+t:s()+"text"+t,i=settings[a]||{};o=o.replace(e[0],n(i.text)||c)}const a=o.matchAll(/\[BUTTON_?(\d{1,3})\]/gi);if(r)for(const e of a){const t=e[1],a="main"==s()?"button"+t:s()+"button"+t,i=settings[a]||{};o=o.replace(e[0],n(i.text)||c)}if([...o.matchAll(/\[URIENC\|CUSTOM_?(\d{1,3})\]/gi)].length){let t=(o=o.replace(/\URIENC\|/gi,"")).matchAll(/\[CUSTOM_?(\d{1,3})\]/gi);for(let a of t)o=o.replace(a[0],n(encodeURIComponent(e.getDataLayerValue("custom_"+a[1])))||c)}let i=o.matchAll(/\[CUSTOM_?(\d{1,3})\]/gi);for(let t of i)o=o.replace(t[0],n(e.getDataLayerValue("custom_"+t[1]))||c);if([...o.matchAll(/\[URIENC\|EP?(\d{1,3})_CUSTOM_?(\d{1,3})\]/gi)].length){let t=(o=o.replace(/\URIENC\|/gi,"")).matchAll(/\[EP?(\d{1,3})\_CUSTOM_?(\d{1,3})\]/gi);for(let a of t)o=o.replace(a[0],n(encodeURIComponent(e.getDataLayerValue("ep"+a[1]+"_custom_"+a[2])))||c)}let l=o.matchAll(/\[EP?(\d{1,3})\_CUSTOM_?(\d{1,3})\]/gi);for(let t of l)o=o.replace(t[0],n(e.getDataLayerValue("ep"+t[1]+"_custom_"+t[2]))||c);let d=(o=o.replace(/\[COOKIE\|([^\|\]]+)(?:\|([^\]]*))?\]/g,((t,o,a)=>{const i=e.getCookie(o);return n(i)||a||""}))).matchAll(/\[LS\|([^\|\]]+)(\|(\S+))?\]/g);for(let e of d){let t=e[3]||"";o=window.parent.localStorage?o.replace(e[0],n(window.parent.localStorage.getItem(e[1]))||t):t}let p=o.matchAll(/\[QS\|([^\|\]]+)(\|(\S+))?\]/g);for(let t of p){let a=t[3]||"";o=o.replace(t[0],n(e.getStoredQueryStringVal(t[1],"last"))||a)}p=o.matchAll(/\[QS(FC|LC|SN)\|([^\|\]]+)(\|(\S+))?\]/g);for(let t of p){let a=t[4]||"",i="";switch(t[1]){case"FC":i="first";break;case"LC":default:i="last";break;case"SN":i="session"}o=o.replace(t[0],n(e.getStoredQueryStringVal(t[2],i))||a)}if(r){const t=o.matchAll(/\[i18n\|([a-zA-z0-9_]+)\]/gi);for(const a of t){const t=a[1];if(!0===boxapi.i18nReady){const i=boxapi.geti18nMatrix(boxapi.getId());if(!i||!i.length){e.warnNotifyApp("Found i18n merge tags but i18n app not yet initialized");break}const n=boxapi.geti18nMatrix(boxapi.getId()),r=boxapi.getElemIndex(n,t),s=boxapi.getLangIndex(n,e.language||"en");translation=n[r][s],o=o.replace(a[0],translation)}}}if(e.getStoredSegTraits){let t=o.matchAll(/\[SEG_TRAIT\|([^\|\]]+)(\|(\S+))?\]/g);for(let a of t){let t=a[4]||"",i=a[1],r=n(e.getStoredSegTraits()[i])||t;o=o.replace(a[0],r)}}if("function"==typeof e.getMergeTagName){const t=e.getMergeTagName(),a=new RegExp("\\["+t+"\\|([a-zA-Z_\\- ]+)(?:\\|(.+?))?\\]","g"),i=o.matchAll(a);for(const t of i){const a=t[0],i=t[1],n=t[2],r=e.getTargetableObjectName();if(window.parent[r]||e[r]){const t=window.parent[r][i];t?(o=o.replace(a,t),e.infoNotifyApp("Universal Merge Tags: replaced from "+e.getTrackingAppName()+" "+i+"="+t)):n?(o=o.replace(a,n),e.infoNotifyApp("Universal Merge Tags: replaced from "+e.getTrackingAppName()+" "+i+"="+n+" (default)")):(e.warnNotifyApp("Universal Merge Tags: no value for "+e.getTrackingAppName()+" field "+i+" with no default"),o="")}else e.warnNotifyApp("Universal Merge Tags: used "+o+" but TPAU App is not initialized "+r+" object not found)")}}else{const t=o.matchAll(/\[ITERABLE_FIELD\|([a-zA-Z_\- ]+)(?:\|(.+?))?\]/g);for(const a of t){const t=a[0],i=a[1],n=a[2];if(e.itrbl){const a=e.itrbl[i];a?(o=o.replace(t,a),e.infoNotifyApp("Universal Merge Tags: replaced from Iterable "+i+"="+a)):n?(o=o.replace(t,n),e.infoNotifyApp("Universal Merge Tags: replaced from Iterable "+i+"="+n+" (default)")):(e.warnNotifyApp("Universal Merge Tags: no value for Iterable field "+i+" with no default"),o="")}else e.warnNotifyApp("Universal Merge Tags: used "+o+" but Iterable App is not active ([https://help.digioh.com/knowledgebase/targeting-box-display-to-iterable-user-attributes-or-lists/|help doc])")}}}if(/\[UTC\]/gi.test(o)){const e=new Date;o=o.replace(/\[UTC\]/gi,e.getTime().toString())}if(/\[UTCDAY\]/.test(o)){const e=(new Date).setUTCHours(0,0,0,0);o=o.replace(/\[UTCDAY\]/gi,e)}if(r){const t=boxapi.getWidgetMetadata()||[];for(const i of t)if(a.test(i.k)){const t=i.k.match(a)[1],n=i.v,r=e.getDataLayerValue(n,boxapi.getId())||e.getDataLayerValue(n);o=o.replace("["+t+"]",r)}}return Object.entries(e.appMergeTags).forEach((([e,t])=>{if(o.includes(e)){let a=function(e=""){try{const t=e.split(/[\.\[\]\'\"]/).filter((e=>""!==e));let o=window.parent;for(const e of t){if(null==o)return;o=o[e]}return o}catch(e){return}}(t.jsVarExpr);null==a&&(a=t.defaultValue),o="function"==typeof o.replaceAll?o.replaceAll(e,a):o.replace(e,a)}})),o},e.appMergeTags=e.appMergeTags||{},e.umtRegisterAppMergeTag=function(t,o,a=""){if(!t||!/^[a-z0-9_|]+$/i.test(t))throw new Error(`Invalid Merge Tag Key: ${t}`);if(!o||!/^(?:[a-z_$][a-z0-9_$]*)(?:\.(?:[a-z_$][a-z0-9_$]*)|\[(?:[a-z_$][a-z0-9_$]*|\d+)\])*$/i.test(o))throw new Error(`Invalid Merge Tag JS Var: ${o}`);t=`[${t}]`,e.appMergeTags[t]={jsVarExpr:o,defaultValue:a}},boxapi.replaceMergeTagsInString=e.replaceMergeTagsInString,boxapi.populateMergeTags("main")}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #709 (BoxID="+boxapi.getId()+", After DOM Ready) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[709]["Before Change Pages"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.populateMergeTags(o.new_page)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #709 (BoxID="+boxapi.getId()+", Before Change Pages) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[709]["Before Redirect"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if(o.element.url){let t=decodeURIComponent(o.element.url),a=e.replaceMergeTagsInString(t);if(a!==o.element.url){let[e,t]=a.split("#"),i=e.split("?"),n=i[0],r=i.slice(1).join("&");const s=new URLSearchParams(r);let l=n;return s.toString()&&(l+="?"+s.toString()),t&&(l+="#"+t),o.element.url=l,o}}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #709 (BoxID="+boxapi.getId()+", Before Redirect) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[709]["Before Submit"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.populateMergeTags(boxapi.getPageName())}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #709 (BoxID="+boxapi.getId()+", Before Submit) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[709]["Before Display"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if("function"==typeof showError){let t=showError;showError=function(o,a,i){let n=i||o,r=e.replaceMergeTagsInString(n);"string"==typeof i?t(o,a,r):t(r)}}if("function"==typeof showInlineError){let t=showInlineError;showInlineError=function(o,a,i){let n=i||o,r=e.replaceMergeTagsInString(n);"string"==typeof i?t(o,a,r):errorTmp(error)}}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #709 (BoxID="+boxapi.getId()+", Before Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[709]["After Submit"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.populateMergeTags(boxapi.getPageName())}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #709 (BoxID="+boxapi.getId()+", After Submit) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[309]={},window.CJSAPPS_BOXES[309]["After Form Validation"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const i="Prevent Common Email Typos",n="emailtypo_detect",r="Please enter a valid email address",s=boxapi.findAllMetadata().filter((e=>e.mdKey===n));if(0===s.length)return;boxapi.pcetNotifier=boxapi.pcetNotifier||e.initAppNotifications(i),$.each(s,(function(e,t){if("text"!=t.fieldType){const e="Configuration error "+n+" must be text input";throw boxapi.pcetNotifier.errorNotifyApp(e),new Error(e)}}));const l=["Gogglemail","googlmail","goglemail","Hotmial","Hotmal","Hoitmail","Homail","Hotnail","Hotrmail","Hotmil","Hotmaill","Ntlwolrd","ntlword","ntl.world","ntlwrold","Tiscale","tiscalli","Tiscally","Tiscaly","Btinterent","btinternt","Yaho.","Uahoo","ayhoo","ymial","ymal","ymil","ymaill","ynail","yail","gmial","gmal","gmil","gnail","gmaill","gail"],c=["con"];function a(t){let o=!0;return l.forEach((function(a){var i=t.split("@")[1].toLowerCase();e.contains(i,a.toLowerCase())&&(o=!1),i.split(".").length>1&&c.indexOf(i.split(".")[1].toLowerCase())>-1&&(o=!1)})),o}if(o.email&&!a(o.email))return boxapi.pcetNotifier.infoNotifyApp(r),r;let d=!1;if($.each(s,(function(e,t){const o=$(t.selector).val();o&&!a(o)&&(d=!0)})),!0===d)return boxapi.pcetNotifier.infoNotifyApp(r),r}catch(p){return BOX_CUSTOM_JS.logError(p,"custom_js_boxes_apps"),p.message="DIGIOH: Custom JS Apps #309 (BoxID="+boxapi.getId()+", After Form Validation) -- "+p.message,window.console.error(p),!0}},window.CJSAPPS_BOXES[789]={},window.CJSAPPS_BOXES[789]["After DOM Ready"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.getDefaultLanguage=function(){return"en"},boxapi.getBrowserLanguage=function(){let e=navigator.language||navigator.browserLanguage;return e&&(e=e.substring(0,2)),e},boxapi.getUrlPathLanguage=function(){const t=boxapi.getWidgetMetadata("i18n_lang_regex");let o="";t&&(o=new RegExp(t)),o||(o=/\/([a-z][a-z])(\/|\?|$)/);let a=e.getCurrentUrl().match(o);return a&&a.length>1?a[1]:""},boxapi.getCsvUrl=function(e=!1){let t=boxapi.getWidgetMetadata(p);const o=e?"https://docs.google.com/spreadsheets/d/[ID]/edit#gid=[GID]":"https://docs.google.com/spreadsheets/d/[ID]/export?format=csv&gid=[GID]";if(t){const e=t.match(/^https:\/\/docs\.google\.com\/spreadsheets\/d\/([a-zA-Z0-9\-_]+)\/.*gid=(\d+)?/);e&&(t=o.replace("[ID]",e[1]).replace("[GID]",e[2]))}else{const e=boxapi.getWidgetMetadata(c),a=boxapi.getWidgetMetadata(d)||"0";e&&(t=o.replace("[ID]",e).replace("[GID]",a))}return/^http/.test(t)?t:null};const c="i18n_gsheet_id",d="i18n_gsheet_gid",p="i18n_csv_url";e.CSV_URL_KEY=p;const u="i18n_csv_function";e.CSV_FUNCTION_KEY=u;const g="i18n_error_text",b="i18n";boxapi.translateNotify=e.initAppNotifications("i18n app for box "+boxapi.getId()),boxapi.i18nUrl=boxapi.getCsvUrl();const f=boxapi.getWidgetMetadata(u);if(f){const h=/^\s*(window|api|boxapi)\.([_a-zA-Z][_a-zA-Z0-9]*)\(?\)?\s*$/,O=f.match(h);if(!O)return void boxapi.translateNotify.errorNotifyApp(`Invalid configuration ${u}:<strong>${f}</strong>; \n            expecting window.<em>fname</em>, api.<em>fname</em>, or boxapi.<em>fname</em>`);switch(O[1]){case"window":boxapi.i18nCsvFunctionObj=window.parent;break;case"api":boxapi.i18nCsvFunctionObj=e;break;case"boxapi":boxapi.i18nCsvFunctionObj=boxapi}boxapi.i18nCsvFunctionName=O[2],boxapi.translateNotify.infoNotifyApp(`Using CSV Custom Function configuration: ${f}`)}else{if(!boxapi.i18nUrl)return void boxapi.translateNotify.warnNotifyApp("No CSV configuration found");{const y=!0;boxapi.translateNotify.infoNotifyApp("Using CSV URL configuration ["+boxapi.getCsvUrl(y)+"|link]")}}if(!boxapi.populateMergeTags){const w="i18n app requires that you install Universal Merge Tags app";throw boxapi.translateNotify.errorNotifyApp(w),new Error(w)}let _;if(boxapi.elemsToTranslate=boxapi.findAllMetadata().filter((e=>e.mdKey==b||e.mdKey===g)),e.getUrlParameter("lang")?(_="URL parameter lang",boxapi.language=e.getUrlParameter("lang")):null!==e.getI18nLanguageCustom()?(_="custom function api.getI18nLanguageCustom",boxapi.language=e.getI18nLanguageCustom()):boxapi.getUrlPathLanguage()?(_="URL Path component",boxapi.language=boxapi.getUrlPathLanguage()):boxapi.getBrowserLanguage()?(_="browser language settings",boxapi.language=boxapi.getBrowserLanguage()):(_="default",boxapi.language=boxapi.getDefaultLanguage()),e.language,boxapi.language,"function"==typeof boxapi.getI18nLanguageCustom&&boxapi.translateNotify.warnNotifyApp("boxapi.getI18nLanguageCustom() no longer supported, use api.getI18nLanguageCustom()"),boxapi.translateNotify.infoNotifyApp("Language determined by "+_+": "+boxapi.language),!boxapi.language)return;const m=/^i18n:([a-zA-Z]+):(\S+)/,x=boxapi.getWidgetMetadata();if(!x)return;const S=x.filter((e=>/^i18n:/.test(e.k)));if(S.length>0)for(const C of S){const E=C.k.match(m),B=E[1],M=E[2];B==boxapi.language&&(boxapi.translateNotify.infoNotifyApp("Language specific metadata activated: "+C.k),C.k=M)}function a(e,t,o){let a=[];for(i=0;i<e.length;i++)e[i][0]===t&&a.push(e[i][o]);return a}function n(e,t,o){let a=[];for(i=0;i<e.length;i++)e[i][0]===t&&a.push(e[i][1]);return a}function r(e,t){Array.from(e[0].childNodes).forEach((function(e){if(e.nodeType===Node.TEXT_NODE){const o=e.textContent.trim();if(o.length>0){const a=t.replace(/{{TEXT}}/g,o);e.textContent=a}}else if(e.nodeType===Node.ELEMENT_NODE&&"a"===e.tagName.toLowerCase()){const o=e.textContent.trim();if(o.length>0){const a=t.replace(/{{TEXT}}/g,o);e.textContent=a}}else e.nodeType===Node.ELEMENT_NODE&&r($(e),t)}))}function s(e,t){let o=-1;for(i=0;i<e.length;i++)t==e[i][0]&&(o=i);return-1===o?(boxapi.translateNotify.errorNotifyApp(`i18n row label ${t} not found in CSV`),e.push([t,"",...new Array(e[0].length-2).fill(`[${t} not found]`)]),s(e,t)):o}function l(e,t){let o=-1,a=1;for(i=0;i<e[0].length;i++)"en"==e[0][i]&&(a=i),boxapi.language==e[0][i]&&(o=i);return-1==o&&(boxapi.translateNotify.infoNotifyApp("Warning: language "+boxapi.language+" not in CSV, using default"),o=a),o}boxapi.changeLanguage=function(e){boxapi.language=e,boxapi.translateElements(boxapi.i18nMatrix),boxapi.populateMergeTags(boxapi.getPageName())},e.changeLanguage=boxapi.changeLanguage,boxapi.getElemIndex=s,boxapi.getLangIndex=l,boxapi.translateElements=function(e){for(const t of boxapi.elemsToTranslate){const o=t.selector;let c="";t.selector.includes("custom")?c=t.dlName.replace("_",""):(c=void 0!==t.dlNameSpecific&&null!==t.dlNameSpecific?t.dlNameSpecific:"",c=c.includes("_")?c.split("_")[1]:c);const d=t.mdVal,p=l(e,boxapi.language),u=s(e,d);if(-1===u)continue;const b=e[u][p];if(t.mdKey!=g){if("element"===t.mdLevel&&"text"===t.elementType)$(o).html(b);else if("element"===t.mdLevel&&"button"===t.elementType)$(o).html(b);else if("element"===t.mdLevel&&"html"===t.elementType)$(o).find("a").length>0?r($(o),b):$(o).html(b);else if("element"==t.mdLevel&&"image"==t.elementType){if(!b||boxapi.language==boxapi.getDefaultLanguage())continue;/^(\/|https?:)/i.test(b)?$(o).attr("src",b):boxapi.translateNotify.errorNotifyApp(`${d} for ${boxapi.language} use on image ${o} is not an image URL: ${b}`)}if(("field"===t.mdLevel&&"text"===t.fieldType||"textarea"===t.fieldType)&&$(o).attr("placeholder",b),"field"===t.mdLevel&&"select"===t.fieldType){const o=a(e,d,p),i=n(e,d),r=t.selector,s=$(r).val();$(r).html("");for(let e=0;e<o.length;e++){const t=o[e];let a=i[e];if(a||(a=""),""!==t){const e=$("<option></option>").attr("value",a).text(t);$(r).append(e)}}$(r).find(`option[value="${s}"]`).length>0?$(r).val(s):$(r).prop("selectedIndex",0)}if("field"===t.mdLevel&&"checkbox"===t.fieldType&&"opt_in"===t.xName){$(o+"_text").text(b)}if("field"===t.mdLevel&&"checkbox"===t.fieldType&&"opt_in"!=t.xName){$(o+"_checkbox_text").text(b)}if("field"===t.mdLevel&&"radio"===t.fieldType){const o=a(e,d,p),r=n(e,d),s=t.dlNameSpecific,l=t.selector.split(","),c=l[0].replace("0","radio_wrapper"),u=l[0].replace("0","radio_line_item").replace("#",".").replace("input_","");for($(u).hide(),i=0;i<o.length;i++){const e=o[i];if(""!==e){l[i]||boxapi.translateNotify.errorNotifyApp("Mismatched # of options in editor vs max options in translation gsheet for "+s);const t="div > input[value='"+r[i]+"']",o=$(c).find(t);$(o).siblings("label").text(e),$(o).parent().filter(u).show()}}}}else{let o=0;for(let a=0;a<e.length;a++){if(-1!==e[a].indexOf(t.mdVal)){o=a;break}}let a=e[o][p],i="main"===t.pageName?"":t.pageName+"_";settings[i+c].error_text=a}}function t(t,o,a){$(t).attr("id");const i=l(e,boxapi.language);let n=o;"full"===a?boxapi.translateNotify.infoNotifyApp("full name found to translate"):"first"===a?(boxapi.translateNotify.infoNotifyApp("first name found to translate"),n=o+"_first"):"last"===a&&(boxapi.translateNotify.infoNotifyApp("last name found to translate"),n=o+"_last");const r=s(e,n),c=e[r][i];$(t).attr("placeholder",c)}$("[id*='form']").find("input[id*='full_name']").each((function(){if($(this).attr("i18n")){let e=$(this).attr("i18n");t($(this),e,"full")}})),$("[id*='form']").find("input[id*='first_name']").each((function(){if($(this).attr("i18n")){let e=$(this).attr("i18n");t($(this),e,"first")}})),$("[id*='form']").find("input[id*='last_name']").each((function(){if($(this).attr("i18n")){let e=$(this).attr("i18n");t($(this),e,"last")}}))}}catch(I){return BOX_CUSTOM_JS.logError(I,"custom_js_boxes_apps"),I.message="DIGIOH: Custom JS Apps #789 (BoxID="+boxapi.getId()+", After DOM Ready) -- "+I.message,window.console.error(I),!0}},window.CJSAPPS_BOXES[789]["Before Display"]=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{if(boxapi.i18nCsvFunctionName){const c=boxapi.i18nCsvFunctionObj[boxapi.i18nCsvFunctionName];if("function"!=typeof c)return boxapi.translateNotify.errorNotifyApp(`Invalid function ${e.CSV_FUNCTION_KEY}:<strong>${boxapi.i18nCsvFunctionName}</strong>; expected function is ${typeof boxapi.i18nCsvFunction}`),!1;const d=c()||"";if(/\S+/.test(d))return boxapi.translateNotify.infoNotifyApp(`Using CSV data from function ${boxapi.i18nCsvFunctionName}`),boxapi.i18nMatrix=s(d),boxapi.i18nReady=!0,boxapi.geti18nMatrix=function(){return boxapi.i18nMatrix},boxapi.translateElements(boxapi.i18nMatrix),boxapi.populateMergeTags(boxapi.getPageName()),n(),!0;if(!boxapi.i18nUrl)return boxapi.translateNotify.warnNotifyApp(`Function ${boxapi.i18nCsvFunctionName} returned no data with no ${e.CSV_URL_KEY} configured, box will <strong>not</strong> be translated`),!0;{const p=!0;boxapi.translateNotify.warnNotifyApp(`Function ${boxapi.i18nCsvFunctionName} returned no data, using configured [${boxapi.getCsvUrl(p)}|CSV URL]`),boxapi.i18nCsvFunctionName=null}}if(boxapi.i18nMatrix)return boxapi.translateElements(boxapi.i18nMatrix),boxapi.i18nReady=!0,boxapi.geti18nMatrix=function(){return boxapi.i18nMatrix},boxapi.populateMergeTags(boxapi.getPageName()),n(),!0;function n(){const e=boxapi.i18nMatrix[0],t=[];for(var o=2;o<e.length;o++){const a='[api.changeLanguage("'+e[o]+'")|'+e[o]+"]";t.push(a)}boxapi.translateNotify.infoNotifyApp("language is "+boxapi.language+". Switch to "+t.join(", "))}function r(e,t){let o=e.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);return o=o.map((function(e,o){let a="";try{a=JSON.parse(e)}catch(t){a=e}return/["]/.test(a)&&boxapi.translateNotify.errorNotifyApp(`There is a column contains double quotes please replace it with single quote at column: ${o+1} and row: ${t}`),a})),o}function s(e){const t=[];var o=e.split(/\r\n|\n/),a=o.length>0?r(o[0],1).length:0;for(i=0;i<o.length;i++)if(/\S+/.test(o[i])){let e=r(o[i],i+1);e.length!=a&&boxapi.translateNotify.errorNotifyApp("Columns length is mismatched at line number "+(i+1)),e?t.push(e):boxapi.translateNotify.warnNotifyApp("Skipping invalid CSV line "+(i+1)+": "+o[i])}return t}if(boxapi.i18nUrl){if(boxapi.i18nUrl.includes("s3.lightboxcdn.com")&&(boxapi.i18nUrl=boxapi.i18nUrl+"?_="+(new Date).getTime()),e.i18nPreloadList&&boxapi.i18nUrl&&e.i18nCache&&"function"==typeof e.i18nCache.get){var l=e.i18nCache.get(boxapi.i18nUrl);if(l&&/\S/.test(l.data||""))return boxapi.i18nMatrix=s(l.data),boxapi.i18nReady=!0,boxapi.geti18nMatrix=function(){return boxapi.i18nMatrix},"function"==typeof boxapi.i18nMatrixReady?boxapi.i18nMatrixReady(boxapi.i18nMatrix):(boxapi.translateElements(boxapi.i18nMatrix),boxapi.populateMergeTags(boxapi.getPageName())),n(),!0}const u=new AbortController,g=setTimeout((()=>u.abort()),e.i18nAjaxTimeout);return fetch(boxapi.i18nUrl,{signal:u.signal}).then((e=>{if(clearTimeout(g),!e.ok)throw new Error(`HTTP ${e.status} ${e.statusText}`);return e.text()})).then((t=>{boxapi.i18nMatrix=s(t),"function"==typeof boxapi.i18nMatrixReady&&boxapi.i18nMatrixReady(boxapi.i18nMatrix),setTimeout((()=>{e.openBox(boxapi.getId())}),100)})).catch((e=>{let t;clearTimeout(g),t="AbortError"===e.name?`i18n CSV fetch timed out after ${boxapi.i18nAjaxTimeout}ms`:e.message.includes("HTTP")?`i18n CSV fetch error: ${e.message}`:`i18n CSV fetch failed: ${e.message}`,boxapi.translateNotify.errorNotifyApp(t),a.error(t,e)})),!1}}catch(b){return BOX_CUSTOM_JS.logError(b,"custom_js_boxes_apps"),b.message="DIGIOH: Custom JS Apps #789 (BoxID="+boxapi.getId()+", Before Display) -- "+b.message,window.console.error(b),!0}},window.CJSAPPS_BOXES[789]["Before Form Validation"]=function(e,t,o){BOX_CUSTOM_JS.log;try{var a="main"===boxapi.getPageName()?"":boxapi.getPageName()+"_",i=document.getElementById("error_bubble");new(0,window.parent.MutationObserver)((function(e,t){e.forEach((function(e){if("style"===e.attributeName&&"none"!==i.style.display){const e=document.getElementById("error_message");e.textContent.includes("phone number")&&settings[a+"phone"]&&settings[a+"phone"].hasOwnProperty("error_text")&&settings[a+"phone"].error_text&&(e.textContent=settings[a+"phone"].error_text)}}))})).observe(i,{attributes:!0})}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #789 (BoxID="+boxapi.getId()+", Before Form Validation) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[686]={},window.CJSAPPS_BOXES[686]["After Display"]=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{const t="Box Auto Close / Change Page";let o=parseInt(e.getWidgetMetadata(boxapi.getId(),"auto_close_secs")),i=0,n="",r=0,s="";boxapi.boxAutoCloseNotifier=boxapi.boxAutoCloseNotifier||e.initAppNotifications(t);const l=e.getWidgetMetadata(boxapi.getId(),"idle_timer_action");if(l&&l.includes(":")){const e=l.split(":");i=parseInt(e[0]),n=e[1]}else l&&!l.includes(":")&&boxapi.boxAutoCloseNotifier.errorNotify("Invalid box level configuration, value for idle_timer_action must be in syntax ==> secs:action");const c=boxapi.getPageMetadata(boxapi.getPageName(),"idle_timer_action");if(c&&c.includes(":")){const e=c.split(":");r=parseInt(e[0]),s=e[1]}else c&&!c.includes(":")&&boxapi.boxAutoCloseNotifier.errorNotify("Invalid page level configuration, value for idle_timer_action must be in syntax ==> secs:action");if((!o||isNaN(o))&&(!i||isNaN(i)||i<=0)&&(!r||isNaN(r)||r<=0))return;if(e.activeBoxes=e.activeBoxes||{},e.activePages=e.activePages||{},o&&!isNaN(o)&&o>0){let t=$("#layout > #form_wrapper > #form").find(".form_inputs, #button1, #button2, #button3, #button4, #button5, #button6, #button7, #button8, #button8, #button9, #button10");t.each((function(o){$(this).on("focus input",(function(o){e.activeBoxes[boxapi.getId()]=!0,t.off("focus input")}))})),setTimeout((()=>{e.activeBoxes[boxapi.getId()]||(boxapi.boxAutoCloseNotifier.infoNotifyApp("Closing box after auto_close_secs="+o),a.log("Closing box after auto_close_secs="+o),e.closeBox(boxapi.getId()),o=0)}),1e3*o)}if(i&&!isNaN(i)&&i>0){let t=$("#layout > #form_wrapper > #form").find(".form_inputs, #button1, #button2, #button3, #button4, #button5, #button6, #button7, #button8, #button8, #button9, #button10");t.each((function(o){$(this).on("focus input",(function(o){e.activeBoxes[boxapi.getId()]=!0,t.off("focus input")}))})),setTimeout((()=>{e.activeBoxes[boxapi.getId()]||(boxapi.boxAutoCloseNotifier.infoNotifyApp("Closing box after idle_timer_action="+i),a.log("Closing box after idle_timer_action="+i),"close"==n.toLowerCase()&&e.closeBox(boxapi.getId()))}),1e3*i)}if(r&&!isNaN(r)&&r>0){let t=$("#"+("main"==boxapi.getPageName()?"":boxapi.getPageName())+"layout > #form_wrapper > #form").find(".form_inputs, #button1, #button2, #button3, #button4, #button5, #button6, #button7, #button8, #button8, #button9, #button10");t.each((function(o){$(this).on("focus input",(function(o){e.activePages[boxapi.getPageName()]=!0,t.off("focus input")}))})),setTimeout((()=>{e.activePages.main||(boxapi.boxAutoCloseNotifier.infoNotifyApp("Closing page after idle_timer_action="+r),a.log("Closing page after idle_timer_action="+r),"close"==s.toLowerCase()?(boxapi.boxAutoCloseNotifier.infoNotifyApp("auto closing the box="+boxapi.getId()),e.closeBox(boxapi.getId())):(boxapi.boxAutoCloseNotifier.infoNotifyApp("redirecting to page ="+s),boxapi.showPage(s)))}),1e3*r)}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #686 (BoxID="+boxapi.getId()+", After Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[686]["After Change Pages"]=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{const t=boxapi.getPageMetadata(boxapi.getPageName(),"idle_timer_action");let o=0,i="";if(e.activePages=e.activePages||{},t&&t.includes(":")){const e=t.split(":");o=parseInt(e[0]),i=e[1]}else t&&!t.includes(":")&&boxapi.boxAutoCloseNotifier.errorNotify("Invalid page level configuration, value for idle_timer_action must be in syntax ==> secs:action");if(!o||isNaN(o)||o<=0)return;if(o&&!isNaN(o)&&o>0){let t=$(`#${boxapi.getPageName()}layout input, #${boxapi.getPageName()}layout button, #${boxapi.getPageName()}layout radio, #${boxapi.getPageName()}layout checkbox`);t.each((function(o){$(this).on("focus input",(function(o){e.activePages[boxapi.getPageName()]=!0,t.off("focus input")}))})),setTimeout((()=>{e.activePages[boxapi.getPageName()]||(boxapi.boxAutoCloseNotifier.infoNotifyApp("Closing page after idle_timer_action="+o),a.log("Closing page after idle_timer_action="+o),"close"==i.toLowerCase()?(boxapi.boxAutoCloseNotifier.infoNotifyApp("auto closing the box="+boxapi.getId()),e.closeBox(boxapi.getId())):(boxapi.boxAutoCloseNotifier.infoNotifyApp("redirecting to page ="+i),boxapi.showPage(i)))}),1e3*o)}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #686 (BoxID="+boxapi.getId()+", After Change Pages) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[139]={},window.CJSAPPS_BOXES[139]["After Display"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if(window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer){let t=e.getWidgetMetadata(boxapi.getId(),"gtm_display");t&&window.parent.dataLayer.push({event:t.trim()})}if(window.parent.dataLayer){let e=boxapi.getPageMetadata("main","gtm_display");e&&window.parent.dataLayer.push({event:e.trim()})}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #139 (BoxID="+boxapi.getId()+", After Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[139]["Before Redirect"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if(window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer)for(iMdKey=0;iMdKey<o.element.metadata_kvps.length;iMdKey++){let e=o.element.metadata_kvps[iMdKey];"gtm_redirect"==e.k&&window.parent.dataLayer.push({event:e.v})}if(e.getUrlParameter("abort_redirects"))return!1}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #139 (BoxID="+boxapi.getId()+", Before Redirect) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[139]["After Change Pages"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if(window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer){let e=boxapi.getPageMetadata(boxapi.getPageName(),"gtm_display");e&&window.parent.dataLayer.push({event:e.trim()})}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #139 (BoxID="+boxapi.getId()+", After Change Pages) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[139]["After Submit"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if(window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer){for(const[e,t]of Object.entries(o))if(t){let o=boxapi.getFieldMetadata(boxapi.getPageName(),e,"gtm_var");if(o){let e={};e[o]=t,window.parent.dataLayer.push(e)}}let e=boxapi.getPageMetadata(boxapi.getPageName(),"gtm_submit");e&&window.parent.dataLayer.push({event:e.trim()})}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #139 (BoxID="+boxapi.getId()+", After Submit) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[139]["Before Close"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if(window.parent.dataLayer=window.parent.dataLayer||[],window.parent.dataLayer){let t=e.getWidgetMetadata(boxapi.getId(),"gtm_close");t&&window.parent.dataLayer.push({event:t.trim()})}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #139 (BoxID="+boxapi.getId()+", Before Close) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[666]={},window.CJSAPPS_BOXES[666]["After Display"]=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{const n="error_height_px",r="error_top_pos_px",s="error_left_pos_px",l=boxapi.getWidgetMetadata(n),c=parseInt(boxapi.getWidgetMetadata(r),10)||30,d=parseInt(boxapi.getWidgetMetadata(s),10)||30;let p=$("#bubble_container"),u=$("#error_bubble");l&&p.css("height",l+"px");const g={"overflow-wrap":"break-word","white-space":"normal"};function i(){var t=$(".bubble-container"),o=function(e,t){try{var o=e.offset(),i=(e.width(),e.height(),t.outerWidth()),n=t.outerHeight(),r=window.parent.innerWidth,s=window.parent.innerHeight,l=$(window.parent).scrollTop(),p=$(window.parent).scrollLeft(),u=o.left+d-p,g=o.top+c-l;return u+i>r&&(u=r-i-d),u<0&&(u=d),g+n>s&&(g=s-n-c),g<0&&(g=c),{x:u-o.left+p,y:g-o.top+l}}catch(e){return a.log("An error occurred: "+e),null}}(e.get$()("#lightbox-iframe-"+boxapi.getGuid()),t);o&&t.css({left:o.x,top:o.y})}p.css(g),u.css(g),i(),$(window.parent).on("scroll",i),$(window).on("resize",i)}catch(b){return BOX_CUSTOM_JS.logError(b,"custom_js_boxes_apps"),b.message="DIGIOH: Custom JS Apps #666 (BoxID="+boxapi.getId()+", After Display) -- "+b.message,window.console.error(b),!0}},window.CJSAPPS_BOXES[666]["After Change Pages"]=function(e,t,o){BOX_CUSTOM_JS.log;try{$("#error_bubble").hide()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #666 (BoxID="+boxapi.getId()+", After Change Pages) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[140]={},window.CJSAPPS_BOXES[140]["After Change Pages"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const t="scrolltop_enable",o="scrolltop_px",a=150,i=1,n=boxapi.getWidgetMetadata(t)||boxapi.getAccountMetadata(t),r=boxapi.getWidgetMetadata(o)||boxapi.getAccountMetadata(o)||a;if(!n)return;if("mobile"===n&&!e.isMobile())return;if("desktop"===n&&!e.isDesktop())return;if(n&&"inline"!==boxapi.getBoxType()){const e="Invalid use of scrolltop_enable, box must be type inline";return void boxapi.bgScrollNotify(e)}const s=boxapi.getBoxFrameWrapper();$([window.parent.document.documentElement,window.parent.document.body]).animate({scrollTop:s.offset().top-r},1e3*i)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #140 (BoxID="+boxapi.getId()+", After Change Pages) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[140]["After Display"]=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{const s="bgscroll_disable";boxapi.bgScrollNotify=e.initAppNotifications("Scrolling Controller extension app for box "+boxapi.getId());const l=boxapi.getWidgetMetadata(s)||boxapi.getAccountMetadata(s);if(!l)return;boxapi.forceEnableScroll=!1;boxapi.getBoxFrameWrapper();const c={37:1,38:1,39:1,40:1,32:1,33:1,34:1,35:1,36:1};function i(e){boxapi.forceEnableScroll||e.preventDefault()}function n(e){if(c[e.keyCode])return i(e),!1}let d=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){d=!0}}))}catch(g){}const p=!!d&&{passive:!1},u="onwheel"in document.createElement("div")?"wheel":"mousewheel";function r(){const e=[];try{const t=window.parent.document;e.push(window.parent),e.push(t),t.body&&e.push(t.body),t.documentElement&&e.push(t.documentElement)}catch(e){a.log("Unable to access window.parent.document due to cross-origin restrictions.")}return e}if(l){if("lightbox"!==boxapi.getBoxType()){const b="Invalid use of mobile_scroll off, box must be type lightbox";return void boxapi.bgScrollNotify.errorNotifyApp(b)}!function(){r().forEach((e=>{e.addEventListener("DOMMouseScroll",i,!1),e.addEventListener(u,i,p),e.addEventListener("touchmove",i,p),e.addEventListener("keydown",n,!1)}));try{window.parent.document.body.style.overflow="hidden",window.parent.document.documentElement.style.overflow="hidden"}catch(e){}}(),boxapi.enableScroll=function(){boxapi.forceEnableScroll=!0,r().forEach((e=>{e.removeEventListener("DOMMouseScroll",i,!1),e.removeEventListener(u,i,p),e.removeEventListener("touchmove",i,p),e.removeEventListener("keydown",n,!1)}));try{window.parent.document.body.style.overflow="",window.parent.document.documentElement.style.overflow=""}catch(e){}}}}catch(f){return BOX_CUSTOM_JS.logError(f,"custom_js_boxes_apps"),f.message="DIGIOH: Custom JS Apps #140 (BoxID="+boxapi.getId()+", After Display) -- "+f.message,window.console.error(f),!0}},window.CJSAPPS_BOXES[140]["Before Close"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.enableScroll()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #140 (BoxID="+boxapi.getId()+", Before Close) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[610]={},window.CJSAPPS_BOXES[610]["Before Display"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const t="Dynamic Images",o="img_dynamic";boxapi.imageDynamicNotifier=boxapi.imageDynamicNotifier||e.initAppNotifications(t);const a=[],i=$(`[${o}]`);$.each(i,(function(){const e=$(this),t=e.attr(o).split(",");for(const o of t)a.push({elem:e,field:o})})),$('select, input[type="radio"]').change((function(){const t=$(this),o=t.attr("id"),a=t.val(),i=o.match(/custom(\d\d?)/);if(i){const t=i[1];e.setDataLayerValue("custom_"+t,a),boxapi.doDynamicImages()}})),$('input[type="checkbox"]').on("change",(function(){const t=$(this).attr("id"),o=t.match(/custom(\d\d?)/);let a,i,n;if(t.startsWith("form"))a="form_";else if(t.startsWith("thx"))a="thx_";else{a="ep"+t.match(/ep(\d+)/)[1]+"_"}if(i="form_"===a?"custom"+o[1]:a+"custom"+o[1],n=$("#"+t).is(":checked")?settings[i].checkbox.checkedval:settings[i].checkbox.uncheckedval,o){const t=o[1];e.setDataLayerValue("custom_"+t,n),boxapi.doDynamicImages()}})),boxapi.doDynamicImages=function(){$.each(a,(function(t,a){const i=a.elem,n=i.attr("id");let r,s=a.field||"",l="";if(l=s&&s.match(/custom_?(\d\d?)\]?$\s*/i),!l&&void 0!==s)return void boxapi.imageDynamicNotifier.errorNotifyApp(`Invalid app config ${o}:${s} - expected field name e.g. custom_X`);const c=e.getDataLayerValue(s);let d=settings[n].metadata_kvps||[];d=d.filter((e=>!!e.k&&/https?:\/\//i.test(e.v)));for(const e of d){const t=e.k.match(/^\s*(\d+)-(\d+)\s*$/);if(t){const a=parseInt(t[1]),i=parseInt(t[2]),n=parseInt(c);if(isNaN(n)&&boxapi.imageDynamicNotifier.errorNotifyApp("Numeric range for app "+o+":"+s+" is non-numeric ("+c+")"),n>=a&&n<=i){r=e.v;break}}else if(e.k==c){r=e.v;break}}if(r)if(/button|layout/.test(n)){const e="url("+r+")";i.css("background-image")!==e&&(boxapi.imageDynamicNotifier.infoNotifyApp("Replaced "+n+":background-image with "+r),i.css("background-image",e))}else if(/image/.test(n)){const e=r;i.attr("src")!==e&&(boxapi.imageDynamicNotifier.infoNotifyApp("Replaced "+n+":src with "+r),i.attr("src",r))}else boxapi.imageDynamicNotifier.errorNotifyApp("Invalid "+o+" app config on "+n+": expected page, button, or image");else if(/button|layout/.test(n)){var p={};if(settings[n].background.use_image&&settings[n].background.image.length>3&&"none"!=settings[n].background.image){var u=S3_BASE_URL+"/vendors/"+VENDOR_GUID+"/uploads/"+settings[n].background.image;if("undefined"!=typeof DIGIOH_PRQ&&DIGIOH_PRQ.isBoxPRQ()&&settings[n].background.image.startsWith("[PRQ")){var g="PRQ:"+settings[n].background.image.replace("[","").replace("]","").split(":")[1],b=settings[n].background.image.split(":").length>2?parseInt(settings[n].background.image.split(":")[2].replace("]","")):1,f=DIGIOH_PRQ.getResultCellValuePRQ(g,b);logger("getBackgroundStyle=="+settings[n].background.image+", headerName="+g+", rowIdx="+b+", getResultCellValuePRQ="+f),f&&0==f.indexOf("http")&&(u=f,p["background-size"]="contain")}p["background-image"]="url("+u+")",p["background-position"]=settings[n].background.position,p["background-color"]=settings[n].background.color,"stretch"===settings[n].background.repeat?p["background-size"]="cover":"contain"===settings[n].background.repeat?(p["background-size"]="contain",p["background-repeat"]="no-repeat"):p["background-repeat"]=settings[n].background.repeat,$("#"+n).css(p)}}else if(/image/.test(n)&&settings[n].src&&settings[n].src.length>3&&"none"!=settings[n].src){var _=S3_BASE_URL+"/vendors/"+VENDOR_GUID+"/uploads/"+settings[n].src;$("#"+n).attr("src",_)}}))},boxapi.doDynamicImages()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #610 (BoxID="+boxapi.getId()+", Before Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[610]["After Change Pages"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.doDynamicImages()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #610 (BoxID="+boxapi.getId()+", After Change Pages) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[173]={},window.CJSAPPS_BOXES[173]["After DOM Ready"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const s="click_function",l="BOX_BUTTON_CLICK";function a(t){throw t=s+": "+t,(e.isPreview()||e.isQaMode())&&e.errorNotify&&e.errorNotify(t),new Error(t)}function i(t){(t=(t=t||"").trim())||a("requires function parameter");const o=t.match(/^(api|boxapi|DIGIOH_API|window)\..+/i);let i,n;if(o){switch(i=o[1].toLowerCase(),i){case"api":case"digioh_api":n=e;break;case"boxapi":n=boxapi;break;case"window":n=window.parent;break;default:a("Don't know how to call function "+t)}t=t.split(".")[1]}else i="window",n=window.parent;const r=n[t];return r||a(i+"."+t+" not found, define boxapi."+t+" or api."+t+" or window."+t),"function"!=typeof r&&a(i+"."+t+" is not a function ("+typeof r+")"),{f:r,name:i+"."+t}}function n(e){if(/^main$|^thx$|^ep_\d\d?$/.test(e))return e;if("thank_you_page"==e)return"thx";if("main_page"==e)return"main";const t=e.match(/^extra_page_\d\d?$/);return t?"ep"+t[1]:""}function r(t,o,a,i,r){const s={};if(s.fName=r,s.buttonName=a,s.jquerySelector="#"+a,s.buttonSettings=i,s.buttonAction=i.action,i.selected_field)s.buttonFieldNameDl="custom_"+i.selected_field,$(s.jquerySelector).hasClass(a+"_selected")?s.buttonFieldValAfterClick="":s.buttonFieldValAfterClick=i.selected_value||"",s.nextPage="";else{let e="";if("submit"==s.buttonAction){const t="main"==o?settings.form:settings[o+"_form"];t&&t.after_submit&&(e=n(t.after_submit))}else e=n(s.buttonSettings.action);s.nextPage=e}const l=i.metadata_kvps||[],c=/CUSTOM_(\d\d?)\]/;for(const e of l){const t=e.k||"",o=e.v||"",a=t.match(c);if(a){s.buttonFieldNameDl="custom_"+a[1],s.buttonFieldValAfterClick=o||"";break}}return s.buttonFieldNameDl&&(s.buttonFieldValBeforeClick=e.getDataLayerValue(s.buttonFieldNameDl)||e.getDataLayerValue(s.buttonFieldNameDl,boxapi.getId())||""),s.currentPage=o,s}boxapi.getFunction=i,$(document).on(l,(function(e,t,o,a){const n=a.metadata_kvps||[];for(const e of n)if(e.k&&e.k.toLowerCase().trim()==s){const n=i(e.v);n.f(r(0,t,o,a,n.name))}}))}catch(c){return BOX_CUSTOM_JS.logError(c,"custom_js_boxes_apps"),c.message="DIGIOH: Custom JS Apps #173 (BoxID="+boxapi.getId()+", After DOM Ready) -- "+c.message,window.console.error(c),!0}},window.CJSAPPS_BOXES[189]={},window.CJSAPPS_BOXES[189]["After DOM Ready"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const e=boxapi.getWidgetMetadata("inline_error_font_color"),t=boxapi.getWidgetMetadata("inline_error_font_family"),o=boxapi.getWidgetMetadata("inline_error_font_size"),a=$("[class*=form_inputs_error_text]");e&&a.css("color",e),t&&a.css("font-family",t),o&&a.css("font-size",o)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #189 (BoxID="+boxapi.getId()+", After DOM Ready) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[641]={},window.CJSAPPS_BOXES[417]={},window.CJSAPPS_BOXES[417]["After DOM Ready"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if(boxapi.countRangeNotify)return;const t=e.initAppNotifications("Selected Button and Checkbox Count");boxapi.countRangeNotify=t;const o="validate_btn_count",a="validate_select_count",i="exclude_btn_count",n="exclude_select_count",r="validate_btn_msg",s="validate_select_msg",l=boxapi.findAllMetadata(),c=function(t,o,a){if("string"==typeof o&&(o=[o]),"string"==typeof a&&(a=[a]),o.includes(t.mdLevel))if(!a||"element"!=t.elementType||a.includes(t.elementType));else{const o=a.join(" or ");e.errorNotifyApp(" must configure "+t.mdKey+" on "+o+" ("+t.selector+" is "+t.mdElementType+")")}else{const a=o.join(" or ");e.errorNotifyApp(" must configure "+t.mdKey+" at "+a+" level ("+t.selector+" is "+t.mdLevel+")")}};for(const e of l)switch(e.mdKey){case o:case a:c(e,"page")}boxapi.countSelectedButtons=function(e){const l="main"==(e=e||CURRENT_PAGE)?"layout":e+"layout",c="#"+l,d=null==$(c).attr(o)?$(c).attr(a):$(c).attr(o);if(!d)return;const p=d.match(/\s*(\d+)(\-(\d+))?\s*/);if(!p)return void t.errorNotifyApp(VALIDATE_SELECT_COUNT+" on "+CURRENT_PAGE+"must be a number or range of numbers, e.g. 2-3");const u=p[1],g=p[3]||u;let b="Must select appropriate number of options";$(c).attr(r)?b=$(c).attr(r):$(c).attr(s)&&(b=$(c).attr(s));const f=$("#"+l+" button[class*='selected']").not("["+i+"]"),_=$("#"+l+" input[type=checkbox][checked*='checked']").not("["+n+"]"),m=f.length+_.length;return m<u||m>g?(showError(b),t.infoNotifyApp("Rejecting submission due to count "+m+" not in range "+u+"-"+g),!1):(t.infoNotifyApp("Allowed submission due to count "+m+" in range "+u+"-"+g),!0)}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #417 (BoxID="+boxapi.getId()+", After DOM Ready) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[417]["After Form Validation"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if("function"!=typeof boxapi.countSelectedButtons)return;return boxapi.countSelectedButtons(CURRENT_PAGE)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #417 (BoxID="+boxapi.getId()+", After Form Validation) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[791]={},window.CJSAPPS_BOXES[791]["After DOM Ready"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const t="https://docs.google.com/document/d/1EK0zPkXzGCuBhwYu3NKFWLwWS--4kdE29GA4orYrwv4/edit";boxapi.BRAND_WA_MD="brand",boxapi.REG_SRC_ID_W_MD="regSourceId",boxapi.EMAIL_FIELD_W_MD="emailField",boxapi.DOB_FIELD_W_MD="dobField",boxapi.OPTIN_FIELD_W_MD="optinField",boxapi.PROD_DDM_API_WA_MD="useProductionApi",boxapi.USE_AUTO_ID_W_MD="confirmation_autosubmit",boxapi.CLOSE_ON_REDIRECT_WA_MD="close_redirect",boxapi.HID_QS="hid",boxapi.REG_SRC_ID_QS="regsource",boxapi.ENABLE_STAX_IDS="use_data_id_matrix",boxapi.ddmNotifier=boxapi.ddmNotifier||e.initAppNotifications("dotDashMeredith Custom"),boxapi.metaData=boxapi.findAllMetadata(),boxapi.brandName=boxapi.getWidgetMetadata(boxapi.BRAND_WA_MD)||boxapi.getAccountMetadata(boxapi.BRAND_WA_MD),boxapi.regSourceId=boxapi.getWidgetMetadata(boxapi.REG_SRC_ID_W_MD),boxapi.emailField=boxapi.getWidgetMetadata(boxapi.EMAIL_FIELD_W_MD),boxapi.dobField=boxapi.getWidgetMetadata(boxapi.DOB_FIELD_W_MD),boxapi.optinField=boxapi.getWidgetMetadata(boxapi.OPTIN_FIELD_W_MD),boxapi.isProductionApi=boxapi.getWidgetMetadata(boxapi.PROD_DDM_API_WA_MD)||boxapi.getAccountMetadata(boxapi.PROD_DDM_API_WA_MD),boxapi.isProductionApi=/true|1|on|yes/i.test(boxapi.isProductionApi),boxapi.useAutoId=!!boxapi.getWidgetMetadata(boxapi.USE_AUTO_ID_W_MD),boxapi.closeOnRedirectNewTab=boxapi.getWidgetMetadata(boxapi.CLOSE_ON_REDIRECT_WA_MD)||boxapi.getAccountMetadata(boxapi.CLOSE_ON_REDIRECT_WA_MD),boxapi.videoSuppress=boxapi.getWidgetMetadata("video_suppress"),boxapi.videoSuppress=/true|1|on|yes/i.test(boxapi.videoSuppress),boxapi.isUseStaxIds=boxapi.getWidgetMetadata(boxapi.ENABLE_STAX_IDS)||boxapi.getAccountMetadata(boxapi.ENABLE_STAX_IDS)||boxapi.getWidgetMetadata("use_data_stax_id_matrix")||boxapi.getAccountMetadata("use_data_stax_id_matrix"),boxapi.isUseStaxIds=/true|1|on|yes/i.test(boxapi.isUseStaxIds),boxapi.isUseStaxIds&&(e.ddmDataIds||[]).length>0?(e.ddmArticleTags=e.ddmDataIds,boxapi.ddmNotifier.infoNotifyApp("ddm_content_id_selectors feature is enabled on this page")):e.ddmArticleTags=e.ddmParselyTags||[],boxapi.hashId=e.getUrlParameter(boxapi.HID_QS),boxapi.regSourceId=e.getUrlParameter(boxapi.REG_SRC_ID_QS)||boxapi.regSourceId,boxapi.urlEmail=e.getUrlParameter("email"),boxapi.newsletters=[];for(let t=1;t<=10;t++)e.getUrlParameter("nid"+t)&&boxapi.newsletters.push(e.getUrlParameter("nid"+t));boxapi.ddmNotifier.infoNotifyApp("Documentation available ["+t+"|here]"),boxapi.brandName||(boxapi.ddmNotifier.errorNotifyApp("Must configure brand metadata at box or account level"),boxapi.abort=!0),boxapi.regSourceId||(boxapi.ddmNotifier.errorNotifyApp("Must configure regSourceId metadata at box level"),boxapi.abort=!0),"TODO"==boxapi.regSourceId&&(boxapi.ddmNotifier.errorNotifyApp("Must replace regSourceId:TODO metadata at box level with real regSourceId"),boxapi.abort=!0),boxapi.useAutoId&&(boxapi.hashId||boxapi.urlEmail||(boxapi.ddmNotifier.errorNotifyApp(boxapi.USE_AUTO_ID_W_MD+" requires hid or email URL param"),boxapi.abort=!0),boxapi.regSourceId||(boxapi.ddmNotifier.errorNotifyApp(boxapi.USE_AUTO_ID_W_MD+" requires regsource URL param"),boxapi.abort=!0),boxapi.newsletters.length||(boxapi.ddmNotifier.errorNotifyApp(boxapi.USE_AUTO_ID_W_MD+" requires newsletters URL params nidX=idX where X is the newsletter number"),boxapi.abort=!0),"none"==$("#form_wrapper").css("display")&&(boxapi.ddmNotifier.errorNotifyApp("Must enable form on main page to process auto-submit"),boxapi.abort=!0)),boxapi.i18nMatrixReady=function(t){if(!e.ddmArticleTags||!t||!t.length)return;let o=e.ddmArticleTags||[],a=t[0]||[],i=a.find((e=>o.includes(e)));i?boxapi.translateNotify.infoNotifyApp(`Custom setting i18n language to article tag ${i}`):(i=a[2],boxapi.translateNotify.warnNotifyApp(`Defaulting to i18n ${i}: did not find any article tags (${e.ddmArticleTags.join(",")}) in i18n CSV header (${a.join(",")})`)),boxapi.changeLanguage(i)};const o=boxapi.metaData.filter((e=>e.mdKey.toLowerCase()=="objectId".toLowerCase()&&"TODO"==e.mdVal));for(const e of o)boxapi.ddmNotifier.errorNotifyApp("Must replace TODO placeholder objectId on "+e.selector+" with real newsletter objectId"),boxapi.abort=!0;if("email"!==boxapi.emailField)if(/^custom_\d\d?$/.test(boxapi.emailField)){const e=boxapi.emailField.replace("_",""),t=settings[e];t&&t.display?"textbox"!==t.field_type&&(boxapi.ddmNotifier.errorNotifyApp("Box metadata emailField:"+boxapi.emailField+" - field type is "+t.field_type+" (must be text input)"),boxapi.abort=!0):(boxapi.ddmNotifier.errorNotifyApp("Box metadata emailField:"+boxapi.emailField+" - field is not enabled on this box"),boxapi.abort=!0)}else boxapi.ddmNotifier.errorNotifyApp("Must configure box-level metadata emailField:custom_X (where X is field number) or emailField:email"),boxapi.abort=!0;boxapi.dobField&&(/^custom_\d\d?$/.test(boxapi.dobField)||(boxapi.ddmNotifier.errorNotifyApp("Box metadata 'dobField' value should be custom_X (where X is field number)"),boxapi.abort=!0)),boxapi.optinField&&(/^custom_\d\d?$/.test(boxapi.optinField)||(boxapi.ddmNotifier.errorNotifyApp("Box metadata 'optinField' value should be custom_X (where X is field number)"),boxapi.abort=!0)),boxapi.ddmNotifier.infoNotifyApp("Config is valid; using <strong>"+(boxapi.isProductionApi?"prod":"test")+"</strong> API endpoint, brand:"+boxapi.brandName+", regSourceId:"+boxapi.regSourceId+", emailField:"+boxapi.emailField),boxapi.useAutoId&&setTimeout((function(){boxapi.ddmNotifier.infoNotifyApp("Automatically submitting with "+boxapi.HID_QS),processSubmit("",!0)}),100)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #791 (BoxID="+boxapi.getId()+", After DOM Ready) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[791]["After Form Validation"]=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{const t=e.getUrlParameter(boxapi.REG_SRC_ID_QS)||boxapi.getWidgetMetadata(boxapi.REG_SRC_ID_W_MD)||boxapi.regSourceId;boxapi.metaData=boxapi.findAllMetadata();const n=boxapi.metaData;let r=[{actionType:"objector",optin:!0,objectId:"relationship-builder"},{actionType:"objector",optin:!0,objectId:"acquisition"}],s={};o[boxapi.dobField]&&(s.birthDate=o[boxapi.dobField]);let l=e.getUrlParameter("child");l&&(s.uuid=l),o[boxapi.optinField]&&(s.consentType=o[boxapi.optinField]),Object.keys(s).length>0&&r.unshift({actionType:"account",account:{brandData:{parents:{children:[s]}}}});let c={};if(boxapi.useAutoId){boxapi.newsletters.forEach((function(e){r.push({actionType:"newsletter",optin:!0,objectId:e})}));for(var i=0;i<n.length;i++){const e=n[i].selector;if("actionType"===n[i].mdKey&&("newsletter"==n[i].mdVal||"objector"==n[i].mdVal)){let t=!1;if("button"==n[i].elementType?t=!!("submit"==n[i].settings.action&&n[i].pageName==boxapi.getPageName()||"nothing"==n[i].settings.action&&n[i].pageName==boxapi.getPageName()&&settings.html50&&settings.html50.custom_widget&&!0===settings.html50.custom_widget.enabled)||$(n[i].selector).hasClass("button_selected"):"checkbox"==n[i].fieldType&&(t=$(n[i].selector).is(":checked")),t){const t=n.filter((t=>t.selector==e));for(const e of t)if(e.mdKey.toLowerCase()=="objectId".toLowerCase()){const t=e.mdVal.split(",");for(const o of t){const t={optin:!0,actionType:"newsletter"};t[e.mdKey]=o.trim(),r.push(t)}}}}}let o={digiohAccountId:e.getAccountId(),digiohBoxId:boxapi.getId(),brand:boxapi.brandName,regSourceId:t,actions:r};boxapi.hashId?o.hashId=boxapi.hashId:boxapi.urlEmail&&(o.email=boxapi.urlEmail),c={data:o}}else{for(i=0;i<n.length;i++){const e=n[i].selector;if("actionType"===n[i].mdKey&&("newsletter"==n[i].mdVal||"objector"==n[i].mdVal)){let t=!1;if("button"==n[i].elementType?t=!!("submit"==n[i].settings.action&&n[i].pageName==boxapi.getPageName()||"nothing"==n[i].settings.action&&n[i].pageName==boxapi.getPageName()&&settings.html50&&settings.html50.custom_widget&&!0===settings.html50.custom_widget.enabled)||$(n[i].selector).hasClass("button_selected"):"checkbox"==n[i].fieldType&&(t=$(n[i].selector).is(":checked")),t){const t=n.filter((t=>t.selector==e));for(const e of t)if(e.mdKey.toLowerCase()=="objectId".toLowerCase()){const t=e.mdVal.split(",");for(const o of t){const t={optin:!0,actionType:"newsletter"};t[e.mdKey]=o.trim(),r.push(t)}}}}}c={data:{digiohAccountId:e.getAccountId(),digiohBoxId:boxapi.getId(),email:o[boxapi.emailField],brand:boxapi.brandName,regSourceId:t,actions:r}},o[boxapi.emailField]||(boxapi.ddmNotifier.errorNotifyApp("emailField "+boxapi.emailField+" does not contain any data, submission will fail"),boxapi.abort=!0)}boxapi.abort?boxapi.ddmNotifier.errorNotifyApp("Refusing to POST to DDM API due to missing/bad configuration"):(boxapi.ddmNotifier.infoNotifyApp("DDM API Submission: "+JSON.stringify(c)),$.ajax({dataType:"json",url:"https://jsapi.lightboxcdn.com/kjdsfoe72kj34s9s8s5/v1/DDM/RegisterLegacy?is_prod="+(boxapi.isProductionApi?"1":"0"),method:"POST",contentType:"application/json",data:JSON.stringify(c),success:function(e){boxapi.ddmNotifier.infoNotifyApp("DDM API Success: "+JSON.stringify(e)),a.log("response: "+JSON.stringify(e))},error:function(e,t,o){const a=e.responseJSON;boxapi.ddmNotifier.errorNotifyApp("DDM API Error "+a.error+": "+(e.responseJSON&&e.responseJSON.message))}}))}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #791 (BoxID="+boxapi.getId()+", After Form Validation) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[791]["After Redirect"]=function(e,t,o){BOX_CUSTOM_JS.log;try{o.element&&o.element.redirect_type&&"tab"===o.element.redirect_type?boxapi.closeOnRedirectNewTab&&boxapi.closeBox():boxapi.closeBox()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #791 (BoxID="+boxapi.getId()+", After Redirect) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[791]["Before Display"]=function(e,t,o){var a={};a.log=BOX_CUSTOM_JS.log;try{if("function"==typeof window.parent.jwplayer)try{let e=window.parent.jwplayer(),t=e.getMute()&&!e.getFullscreen(),o=boxapi.getBoxType();if("inline"===o&&!0===boxapi.videoSuppress&&boxapi.ddmNotifier.infoNotifyApp("jwplayer can't suppress inlines "+boxapi.getId()),"lightbox"===o&&!1!==boxapi.videoSuppress)return!t&&boxapi.ddmNotifier&&boxapi.ddmNotifier.infoNotifyApp("jwplayer video found suppress box: "+boxapi.getId()),t;if(!0===boxapi.videoSuppress)return!t&&boxapi.ddmNotifier&&boxapi.ddmNotifier.infoNotifyApp("jwplayer video found suppress box: "+boxapi.getId()),t}catch(e){a.log("ERROR: "+e)}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #791 (BoxID="+boxapi.getId()+", Before Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[791]["After Display"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const e=$(window.frameElement);e.length>0&&e.removeAttr("tabindex")}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #791 (BoxID="+boxapi.getId()+", After Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[670]={},window.CJSAPPS_BOXES[670]["Before Display"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const t="Enable/Disable other field",o=boxapi.findAllMetadata();boxapi.CustomOtherFieldEnableNotifier=boxapi.CustomOtherFieldEnableNotifier||e.initAppNotifications(t);const a=["enable_when","show_when"],i=o.filter((e=>a.includes(e.mdKey)));let n=[];$(document).on("change",'select, input[type="radio"]',(function(){const t=$(this),o=t.attr("id"),a=t.val(),i=o.match(/custom(\d{1,3})/);if(i){const t=i[1];e.setDataLayerValue("custom_"+t,a),boxapi.doCustomOtherFieldEnable()}})),$(document).on("change",'input[type="checkbox"]',(function(){const t=$(this).attr("id"),o=t.match(/custom(\d{1,3})/);let a,i,n;if(t.startsWith("form"))a="form_";else if(t.startsWith("thx"))a="thx_";else{a="ep"+t.match(/ep(\d+)/)[1]+"_"}if("form_"===a){if(!o||!o[1])return!1;i="custom"+o[1]}else{if(!o||!o[1])return!1;i=a+"custom"+o[1]}if($("#"+t).is(":checked")){if(!(settings&&settings[i]&&settings[i].checkbox&&settings[i].checkbox.checkedval))return!1;n=settings[i].checkbox.checkedval}else{if(!(settings&&settings[i]&&settings[i].checkbox&&settings[i].checkbox.uncheckedval))return!1;n=settings[i].checkbox.uncheckedval}if(o){const t=o[1];e.setDataLayerValue("custom_"+t,n),boxapi.doCustomOtherFieldEnable()}})),$(document).on("keyup change",'input[type="text"]',(function(t){var o=$(this).val();const a=$(this).attr("id").match(/custom(\d{1,3})/);if(a){const t=a[1];e.setDataLayerValue("custom_"+t,o),boxapi.doCustomOtherFieldEnable()}})),$(document).on("BOX_BUTTON_CLICK",(function(t,o,a,i){if("select"==i.action){if(!(/button/.test(a)&&i.selected_field&&i.selected_value))return;{let t,o;if(Array.isArray(i.selected_value)&&i.selected_value.length>0)for(var n=0;n<i.selected_value.length;n++)t=i.selected_value[n].v,o="custom_"+i.selected_field[n].k,e.getDataLayerValue(o)===t?e.setDataLayerValue(o,null):e.setDataLayerValue(o,t);else t=i.selected_value,o="custom_"+i.selected_field,e.getDataLayerValue(o)===t?e.setDataLayerValue(o,null):e.setDataLayerValue(o,t);boxapi.doCustomOtherFieldEnable()}}})),boxapi.doCustomOtherFieldEnable=function(){i.forEach((t=>{let o,a,i;if(t.dlName?o=t.dlName:(!t.dlName&&"button"==t.elementType||"image"==t.elementType||!t.dlName&&"text"==t.elementType)&&(o=t.selector),o.includes("button"))a=o.match(/button?(\d{1,3})\]?$\s*/i)[1],i="button"+a;else if(o.includes("image"))a=o.match(/image?(\d{1,3})\]?$\s*/i)[1],i="image"+a;else if(o.includes("text"))a=o.match(/text?(\d{1,3})\]?$\s*/i)[1],i="text"+a;else if(o.includes("opt_in")){let e=o.match(/opt_in?(\d{1,3})?\]?$\s*/i);e&&(a=e[1]||""),i="opt_in"+a}else a=o.match(/custom_?(\d{1,3})\]?$\s*/i)[1],i="custom"+a;let r=t.pageSelector;if(o){if(t.mdKey.length>0&&void 0!==t.mdKey){let a,s,l,c,d;const p=t.mdKey;let u,g=!1;"main"!=t.pageName&&(u=t.pageName+"_"),t.mdVal.includes("!=")?(a=t.mdVal.split("!="),s=a[0].trim(),l=a[1].trim(),g=!0):(a=t.mdVal.split("="),s=a[0].trim(),l=a[1].trim(),g=!1),c=s.match(/custom_?(\d{1,3})\]?$\s*/i),d=e.getDataLayerValue("custom_"+c[1]);const b=$(r).find("div").filter(((e,t)=>{const o=t.id;return o&&o.includes(i)}));if(!0===g)if(p.includes("show"))if(function(e){if(e.startsWith("/")&&e.endsWith("/"))try{return new RegExp(e.slice(1,-1)),!0}catch(e){return!1}return!1}(l)){const e=new RegExp(l.slice(1,-1));d&&void 0!==d&&e.test(d.slice(1,-1))?(b.show(),n.includes(u?u+i:i)&&(settings[u?u+i:i].require=!0)):(settings&&settings[u?u+i:i]&&settings[u?u+i:i].hasOwnProperty("require")&&(settings[u?u+i:i].require=!1,n.push(u?u+i:i)),b.hide())}else-1==$.inArray(d,l.split(","))&&void 0!==d?(n.includes(u?u+i:i)&&(settings[u?u+i:i].require=!0),b.show()):(settings&&settings[u?u+i:i]&&settings[u?u+i:i].hasOwnProperty("require")&&(settings[u?u+i:i].require=!1,n.push(u?u+i:i)),b.hide());else-1==$.inArray(d,l.split(","))&&void 0!==d?(o.includes("text")&&b.find(o).css("cssText","opacity: 1 !important;"),b.find(":input").prop("disabled",!1).css("cssText","opacity: 1 !important;")):(o.includes("text")&&b.find(o).css("cssText","opacity: 0.5 !important; background-color: lightgray !important;"),b.find(":input").prop("disabled",!0).css("cssText","opacity: 0.5 !important; background-color: lightgray !important;"));else p.includes("show")?-1!=$.inArray(d,l.split(","))&&void 0!==d?(n.includes(u?u+i:i)&&(settings[u?u+i:i].require=!0),b.show()):(settings&&settings[u?u+i:i]&&settings[u?u+i:i].hasOwnProperty("require")&&(settings[u?u+i:i].require=!1,n.push(u?u+i:i)),b.hide()):-1!=$.inArray(d,l.split(","))&&null!=d?(o.includes("text")&&b.find(o).css("cssText","opacity: 1 !important;"),b.find(":input").prop("disabled",!1).css("cssText","opacity: 1 !important;")):(o.includes("text")&&b.find(o).css("cssText","opacity: 0.5 !important; background-color: lightgray !important;"),b.find(":input").prop("disabled",!0).css("cssText","opacity: 0.5 !important; background-color: lightgray !important;"))}}else boxapi.CustomOtherFieldEnableNotifier.errorNotifyApp(`Invalid app config ${o} - expected field name e.g. custom_N`)}))},boxapi.doCustomOtherFieldEnable()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #670 (BoxID="+boxapi.getId()+", Before Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[670]["After Submit"]=function(e,t,o){BOX_CUSTOM_JS.log;try{boxapi.doCustomOtherFieldEnable()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #670 (BoxID="+boxapi.getId()+", After Submit) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[778]={},window.CJSAPPS_BOXES[778]["After Display"]=function(e,t,o){BOX_CUSTOM_JS.log;try{const t="Screen Reader App",o="disable_screen_reader";boxapi.screenReaderNotifier=boxapi.screenReaderNotifier||e.initAppNotifications(t);const a=/^ep\d+button\d+$/,i=/^ep\d+image\d+$/,n=/^ep\d+html\d+$/;boxapi.doScreenReading=function(){boxapi.getPageMetadata(boxapi.getPageName(),o)?boxapi.screenReaderNotifier.warnNotifyApp("Disabled for page "+boxapi.getPageName()):boxapi.getWidgetMetadata(o)?boxapi.screenReaderNotifier.warnNotifyApp("Disabled for box "+boxapi.getName()):(boxapi.screenReaderNotifier.infoNotifyApp("Processing page "+boxapi.getPageName()),setTimeout((function(){let e="main"===boxapi.getPageName()?"layout":boxapi.getPageName()+"layout";const t=[];$("#"+e+" > *").each((function(){const e=$(this),o={top:e[0].offsetTop,left:e[0].offsetLeft};t.push({element:e,position:o}),e[0].remove()})),t.sort((function(e,t){return e.position.top-t.position.top||e.position.left-t.position.left})),t.forEach((function(t,o){const a=o+1;t.element.attr("tabindex",a),$("#"+e).append(t.element)}));let o=0;if($("#"+e+" *").each((function(t){const r=$(this),s=r.attr("id");if((r.is("div")||r.is("img"))&&s&&(s.match(/button\d+_wrapper/)||s.match(/ep\d+button\d+_wrapper/)||s.match(/text\d+_wrapper/)||s.match(/ep\d+text\d+_wrapper/)||s.match(/html\d+_wrapper/)||s.match(/ep\d+html\d+_wrapper/)||s.match(/form_input_custom\d+_wrapper/)||s.match(/ep\d+form_input_custom\d+_wrapper/)||s.match(/thx_form_input_custom\d+_wrapper/)||s.match(/form/)||s.match(/ep\d+_form/)||s.match(/thx_form/)||s.match(/text\d+/)||s.match(/ep\d+text\d+/)||s.match(/thxtext\d+/)||s.match(/html\d+/)||s.match(/ep\d+html\d+/)||s.match(/thxhtml\d+/)||s.match(/image\d+/)||s.match(/ep\d+image\d+/)||s.match(/thximage\d+/)||s.match(/image\d+_wrapper/)||s.match(/ep\d+image\d+_wrapper/)||s.match(/thximage\d+_wrapper/)))r.removeAttr("tabindex");else{switch("label"===r.prop("tagName").toLowerCase()&&"none"!==getComputedStyle(r[0].parentNode).display?r.is(":visible")&&"0"!==getComputedStyle(r[0]).height&&"0"!==getComputedStyle(r[0]).width&&"rect(0px, 0px, 0px, 0px)"!==getComputedStyle(r[0]).clip&&r.attr("tabindex",++o):r.is("button")&&"none"!==getComputedStyle(r[0]).display&&"none"!==getComputedStyle(r[0].parentNode).display||("label"!==r[0].tagName.toLowerCase()&&"button"!==r[0].tagName.toLowerCase()&&r.text().trim()&&void 0!==s||"img"===r[0].tagName.toLowerCase()||"radio"===r.attr("type")||"checkbox"===r.attr("type")||"input"===r[0].tagName.toLowerCase()&&("email"===r.attr("type")||"text"===r.attr("type")||"phone"===r.attr("type")))&&"none"!==getComputedStyle(r[0].parentNode).display?r.attr("tabindex",++o):r.removeAttr("tabindex"),r.prop("tagName").toLowerCase()){case"input":switch(r.attr("type")){case"checkbox":r.attr("role","checkbox");break;case"radio":r.attr("role","radio");break;case"text":case"number":case"datetime":r.attr("role","textbox");break;default:r.removeAttr("role")}break;case"button":r.attr("id")&&(a.test(r.attr("id"))||r.attr("id").startsWith("thx")||r.attr("id").startsWith("button"))?r.attr("role","button"):r.attr("role","text");break;case"select":r.attr("role","combobox");break;case"textarea":r.attr("role","textbox");break;case"div":r.attr("id")&&(n.test(r.attr("id"))||r.attr("id").startsWith("html")||r.attr("id").startsWith("thxhtml"))?r.attr("role","html"):r.attr("id")&&(a.test(r.attr("id"))||r.attr("id").startsWith("thxbutton")||r.attr("id").startsWith("button"))?r.attr("role","button"):r.attr("role","text");break;case"label":case"p":r.attr("role","text");break;case"a":r.attr("role","link");break;case"img":r.attr("id")&&(i.test(r.attr("id"))||r.attr("id").startsWith("image")||r.attr("id").startsWith("thximage"))?r.attr("role","image"):r.attr("role","text");break;default:r.removeAttr("role")}const t=document.querySelector(`#${e} [tabindex="${o+1}"]`);t?r.attr("aria-flowto",t.id):r.removeAttr("aria-flowto")}})),"layout"!==e){const t=document.querySelector(`#${e} [tabindex="1"]`);t&&t.focus()}$("#"+e).on("keydown","select option",(function(e){if(32===e.which||13===e.which){const t=$(this);t.index(),t.parent("select");e.preventDefault()}})),$("#"+e+" button").off("keydown").on("keydown",(function(e){32!==e.which&&13!==e.which||this.dataset.keyHandled&&"false"!==this.dataset.keyHandled||(e.preventDefault(),$(this).focus(),$(this).trigger("mousedown").trigger("mouseup"),e.stopPropagation(),this.dataset.keyHandled="true",setTimeout((()=>{this.dataset.keyHandled="false"}),100))}))}),100))},boxapi.doScreenReading()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #778 (BoxID="+boxapi.getId()+", After Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[778]["After Change Pages"]=function(e,t,o){BOX_CUSTOM_JS.log;try{"function"==typeof boxapi.doScreenReading&&setTimeout((function(){boxapi.doScreenReading()}),500)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #778 (BoxID="+boxapi.getId()+", After Change Pages) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[769]={},window.CJSAPPS_BOXES[720]={},window.CJSAPPS_BOXES[720]["After DOM Ready"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if("inline"===boxapi.getBoxType()){e.manualOpenBoxWhitelist=new Set,$(document).on("BOX_BUTTON_CLICK",(function(t,o,a,i,n){"lightbox_open"===i.action&&i.lightbox_open&&e.manualOpenBoxWhitelist.add(i.lightbox_open)}));const t="inline_idle_timer",o=boxapi.getId(),a=boxapi.getAccountMetadata(t)?1e3*parseInt(boxapi.getAccountMetadata(t)):5e3,i=["pointerdown","input","focusin"],n={capture:!0,passive:!0};let r;e.inlineInteractionNotifier=e.initAppNotifications(`Inline Interaction for box : ${o}`),e.inlineInteractionNotifier.infoNotifyApp(`Inline box found!! Box Id : ${o} Observing Interaction!!`);const s=()=>{e.inlineBoxInteraction||(e.inlineBoxInteraction=!0,e.inlineInteractionNotifier.infoNotifyApp(`Inline box ${o} is being interacted!!`)),clearTimeout(r),r=setTimeout((()=>{e.inlineBoxInteraction=!1,e.inlineInteractionNotifier.infoNotifyApp(`Inline box ${o} stopped interacting(idle for ${a/1e3} seconds)`)}),a)};i.forEach((e=>document.addEventListener(e,s,n))),boxapi.cleanUpEvents=function(){i.forEach((e=>document.removeEventListener(e,s,n))),clearTimeout(r),e.inlineBoxInteraction=!1}}}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #720 (BoxID="+boxapi.getId()+", After DOM Ready) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[720]["Before Display"]=function(e,t,o){BOX_CUSTOM_JS.log;try{if(e.isPreview()||"inline"==boxapi.getBoxType())return;const t=boxapi.getGuid(),o=e.manualOpenBoxWhitelist&&e.manualOpenBoxWhitelist.has(t);if(e.inlineBoxInteraction&&!o)return e.inlineInteractionNotifier.warnNotifyApp("Suppressing box "+boxapi.getId()+" due to interaction with an inline"),!1;o&&e.manualOpenBoxWhitelist.delete(t)}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #720 (BoxID="+boxapi.getId()+", Before Display) -- "+e.message,window.console.error(e),!0}},window.CJSAPPS_BOXES[720]["Before Close"]=function(e,t,o){BOX_CUSTOM_JS.log;try{"inline"===boxapi.getBoxType()&&"function"==typeof boxapi.cleanUpEvents&&boxapi.cleanUpEvents()}catch(e){return BOX_CUSTOM_JS.logError(e,"custom_js_boxes_apps"),e.message="DIGIOH: Custom JS Apps #720 (BoxID="+boxapi.getId()+", Before Close) -- "+e.message,window.console.error(e),!0}};