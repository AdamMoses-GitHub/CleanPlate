# CleanPlate Configuration
# Copy this file to .env and update with your values

# ============================================
# APPLICATION SETTINGS
# ============================================

# Environment: development, staging, production
APP_ENV=production

# Enable debug mode (NEVER enable in production)
APP_DEBUG=false

# Application timezone
APP_TIMEZONE=UTC

# ============================================
# PATHS
# ============================================

# Temporary directory for file processing
TEMP_DIR=

# Log directory
LOG_DIR=

# ============================================
# SCRAPER SETTINGS
# ============================================

# Request timeout in seconds
SCRAPER_TIMEOUT=10

# Minimum delay between requests to same domain (seconds)
SCRAPER_MIN_DELAY=2

# Maximum number of redirects to follow
SCRAPER_MAX_REDIRECTS=5

# Verify SSL certificates (recommended: true)
SCRAPER_SSL_VERIFY=true

# ============================================
# SECURITY SETTINGS
# ============================================

# Allowed CORS origins (comma-separated, or * for all)
# IMPORTANT: In production, set to your specific domain(s)
ALLOWED_ORIGINS=*

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=10
RATE_LIMIT_PERIOD=60

# Maximum URL length to accept
MAX_URL_LENGTH=2048

# Maximum request body size (bytes)
MAX_REQUEST_SIZE=10485760

# Content Security Policy
CSP_POLICY=default-src 'self'

# ============================================
# DATABASE SETTINGS
# ============================================

# Database connection
DB_CONNECTION=mysql
# Docker: use service name "db". Non-Docker local: use "localhost"
DB_HOST=db
DB_PORT=3306
DB_DATABASE=cleanplate
DB_USERNAME=cleanplate
DB_PASSWORD=cleanplate

# Database charset
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci

# Table prefix (optional)
DB_PREFIX=

# MySQL root password (used by Docker / phpMyAdmin)
DB_ROOT_PASSWORD=rootpassword

# ============================================
# CACHE SETTINGS (Future Use)
# ============================================

# Cache driver: file, redis, memcached
CACHE_DRIVER=file

# Cache TTL in seconds
CACHE_TTL=3600

# Cache key prefix
CACHE_PREFIX=cleanplate_

# Redis settings (if using redis cache)
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_CACHE_DB=1

# Memcached settings (if using memcached cache)
MEMCACHED_HOST=127.0.0.1
MEMCACHED_PORT=11211

# ============================================
# EXTERNAL API SERVICES (Future Use)
# ============================================

# OpenAI (for tag generation, recipe analysis)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7
OPENAI_TIMEOUT=30

# Nutritionix (for nutrition data)
NUTRITION_PROVIDER=nutritionix
NUTRITION_API_KEY=
NUTRITION_API_ID=
NUTRITION_API_URL=https://api.nutritionix.com/v2

# Spoonacular (alternative nutrition/recipe API)
SPOONACULAR_API_KEY=

# AWS (for S3 storage, optional)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_S3_BUCKET=

# ============================================
# EMAIL SETTINGS (Future Use)
# ============================================

# Mail driver: smtp, sendgrid, mailgun
MAIL_MAILER=smtp

# SMTP settings
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_ENCRYPTION=tls
MAIL_USERNAME=
MAIL_PASSWORD=

# SendGrid
SENDGRID_API_KEY=

# Mailgun
MAILGUN_DOMAIN=
MAILGUN_SECRET=
MAILGUN_ENDPOINT=api.mailgun.net

# From address
MAIL_FROM_ADDRESS=noreply@cleanplate.app
MAIL_FROM_NAME=CleanPlate

# ============================================
# DOCKER SETTINGS
# ============================================

# External port mappings
APP_PORT=8000
DB_PORT_EXTERNAL=3306
REDIS_PORT_EXTERNAL=6379
PHPMYADMIN_PORT=8081

# ============================================
# FEATURE FLAGS (Future Use)
# ============================================

# Enable AI-powered features
FEATURE_AI_TAGS=false
FEATURE_NUTRITION_CALC=false
FEATURE_MEAL_PLANNING=false

# Enable user accounts
FEATURE_USER_ACCOUNTS=false
FEATURE_COLLECTIONS=false

# ============================================
# MONITORING & LOGGING (Future Use)
# ============================================

# Log level: debug, info, warning, error
LOG_LEVEL=info

# Sentry error tracking
SENTRY_DSN=

# ============================================
# DEVELOPMENT SETTINGS (dev only)
# ============================================

# Show detailed confidence scores
CONFIDENCE_DEBUG=false
